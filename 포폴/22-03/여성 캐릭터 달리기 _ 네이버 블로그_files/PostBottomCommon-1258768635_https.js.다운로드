var postCommon={};if(typeof window.nhn=="undefined"){window.nhn={}}if(!nhn.husky){nhn.husky={}}postCommon.ListTable=$Class({_bFirstTopListOpen:false,bCheckAll:false,listData:null,TOP:"top",$init:function(){this.setListTableTemplate();this.elTopList=isMemolog?$("toplist"):$("toplistWrapper");this.elBottomList=$("postListBottom");this.elTopListMenu=$("toplistmenu");this.elTopListBtn=$("toplistBtn");this.elTopListBtnImg=$("topListBtnImg");this.elTopListSpanBlind=$("toplistSpanBlind")},toggleTopList:function(a){if(!this.elTopList){return}if(!$Element(this.elTopList).visible()){if(a){clickcr(a.element,"cat.listopen","","",a.$value())}this._showTopList()}else{if(a){clickcr(a.element,"cat.listclose","","",a.$value())}this._hideTopList()}},syncPage:function(){nPostListCount=pagePerPostCount;nPostPage=currentPage;nTopListCount=this.getCurrentTopListCount();return(isThumbnailList?1:Math.ceil((nPostListCount*nPostPage-(nPostListCount-1))/nTopListCount))},_showTopList:function(){if(!this._bFirstTopListOpen){this._bFirstTopListOpen=true;this.currentPage=userTopListCurrentPage||this.syncPage()||1;this.loadPostList({countPerPage:this.getCurrentTopListCount(),currentPage:this.currentPage})}$Element(this.elTopList).show();if(this.elTopListMenu){$Element(this.elTopListMenu).show()}if(this.elTopListBtn){$Element(this.elTopListBtn).html("목록닫기")}if(this.elTopListSpanBlind){$Element(this.elTopListSpanBlind).html("목록닫기")}if(this.elTopListBtnImg){var a=$Element(this.elTopListBtnImg);a.addClass("ico1");a.removeClass("ico2")}},_hideTopList:function(){$Element(this.elTopList).hide();if(this.elTopListMenu){$Element(this.elTopListMenu).hide()}if(this.elTopListBtn){$Element(this.elTopListBtn).html("목록열기")}if(this.elTopListSpanBlind){$Element(this.elTopListSpanBlind).html("목록열기")}if(this.elTopListBtnImg){var a=$Element(this.elTopListBtnImg);a.removeClass("ico1");a.addClass("ico2")}this.checkAllPost(false);this._resetTagEdit()},_resetTagEdit:function(){var f,b,a;f=$$("a._cancelTag",this.elTopList);for(b=0,a=f.length;b<a;b++){if($Element(f[b].parentNode).visible()){$Element(f[b]).fireEvent("click")}}f=b=a=null},_getListApiUrl:function(a,b){return"/PostTitleListAsync.naver?blogId="+blogId+"&viewdate="+viewDate+"&currentPage="+a+"&categoryNo="+categoryNo+"&parentCategoryNo="+parentCategoryNo+(b?"&countPerPage="+b:"")},loadPostList:function(g){var k,b,j,h,f,a;k=g.logNo||"";b=g.isFirstPage;j=g.currentPage||1;h=g.countPerPage;f=$Fn(this._onResponseTopList,this).bind();a=this._getListApiUrl(j,h)+(b?"&isFirstPage="+b:"");new $Ajax(a,{method:"get",onerror:function(){},onload:f}).request();k=b=j=h=f=a=null},goPageList:function(b,a){this.currentPage=b;this._nHeightTopList=this.elTopList.offsetHeight;this.loadPostList({currentPage:this.currentPage,countPerPage:this.getCurrentTopListCount()})},getCurrentTopListCount:function(){var a=$("changeListCount");return !a?userTopListCount||topListPostCount:cssquery.getSingle("#changeListCount .option[area-selected = 'true']").getAttribute("data-value")},setCurrentListCount:function(b){var a=$("changeListCount");if(!a){return}$Element(cssquery.getSingle("#changeListCount .option[data-value='"+b+"']")).attr("area-selected","true");a=null},_onResponseTopList:function(a){if(a.text().indexOf("resultCode")<0){return false}var b=function(){return new Function("return "+$S(a.text()).trim())()}();if(b.resultCode!="S"){return}this.listData=b.postList;this._makeListTable(b);if(b.isTagEnabled&&blogOwner){postListTag.loadTagListTableInfo(b.tagQueryString)}this.setCurrentListCount(b.countPerPage);if(blogOwner){this.toggleListTopManager(true)}if(userTopListManageOpen&&!this.bFirstOpenList){this.bFirstOpenList=true;this.openListTopManager()}if(this._bPageFirstLoad){if(focusing){focusing.gotoTagForPost("post_1")}this._bPageFirstLoad=false}if(this._nHeightTopList!=0){nDiffHeight=this._nHeightTopList-this.elTopList.offsetHeight;if(isParentExist()){parent.scrollBy(0,-nDiffHeight)}this._nHeightTopList=0}if(this._isSelectTag){$("listCountToggle").focus();this._isSelectTag=false}},setListTableTemplate:function(){var a=$("categoryTitle")?$("categoryTitle").text+" 글 목록":"";this.aTopListHead=[];this.aTopListBody=[];this.aTopListFooter=[];this.aTopListHead.push('<form method="post" name="listTopForm" id="listTopForm">');this.aTopListHead.push('<input type="hidden" name="logNoStruct" id="logNoStruct" /><input type="hidden" value="'+blogId+'" name="blogId" />');this.aTopListHead.push('<input type="hidden" value="'+blogNo+'" name="paperNo"/><input type="hidden" value="'+categoryNo+'" name="categoryNo"/><input type="hidden" value="" name="dstCategory"/>');this.aTopListHead.push('<input type="hidden" value="" name="dstCategoryName"/><input type="hidden" value="'+blogId+'" name="chtagname"/><input type="hidden" name="logType" value="mylog"/>');this.aTopListHead.push('<table cellspacing="0" cellpadding="0" class="blog2_list blog2_categorylist" summary="'+a+'">');this.aTopListHead.push('<caption><span class="blind">'+a+"</span></caption>");this.aTopListHead.push("<colgroup>");this.aTopListHead.push('<col class="title">');if(blogOwner){this.aTopListHead.push('<col class="read">')}this.aTopListHead.push('<col class="date">');this.aTopListHead.push("</colgroup>");this.aTopListHead.push("<thead><tr>");this.aTopListHead.push('<th scope="col">');this.aTopListHead.push('<div class="wrap_td">');if(blogOwner){this.aTopListHead.push('<span class="wrap_checkbox">');this.aTopListHead.push('<input type="checkbox" class="checkbox _checkAllPost" id="checkall"><label for="checkall"><span class="blind">전체 선택</span><i class="icon pcol2"></i></label>');this.aTopListHead.push("</span>")}this.aTopListHead.push('<span class="title pcol2">글 제목</span><i class="cline"></i>');this.aTopListHead.push("</div></th>");if(blogOwner){this.aTopListHead.push('<th scope="col">');this.aTopListHead.push('<div class="wrap_td"><span class="read pcol2">조회수</span><i class="cline"></i></div>');this.aTopListHead.push("</th>")}this.aTopListHead.push('<th scope="col"><div class="wrap_td"><span class="date pcol2">작성일</span><i class="cline"></i></div></th>');this.aTopListHead.push("</tr></thead>");this.aTopListHead.push("<tbody>");this.aTopListBody.push('<tr class="#{POST_SELETED}">');this.aTopListBody.push('<td class="title">');this.aTopListBody.push('<div class="wrap_td">');this.aTopListBody.push('<div class="meta_data">');this.aTopListBody.push('<span class="num pcol3">');this.aTopListBody.push("#{COMMENT_COUNT_AREA}");this.aTopListBody.push("</span>");this.aTopListBody.push("#{MARKET_ICON}");this.aTopListBody.push("#{VIEW_ICON}");this.aTopListBody.push("#{SEARCH_ICON}");this.aTopListBody.push("</div>");this.aTopListBody.push('<span class="ell2 pcol2">');if(blogOwner){this.aTopListBody.push('<span class="wrap_checkbox">');this.aTopListBody.push('<input type="checkbox" class="checkbox _checkPost" id="#{INPUT_TAG_ID}" name="logNo" value="#{LOG_NO}" onclick="clickcr(this,\'cat.selectpost\',\'\',\'\',event);" #{LOG_DISABLED}><label for="#{INPUT_TAG_ID}"><span class="blind">글 선택</span><i class="icon pcol2"></i></label>');this.aTopListBody.push('<input type="checkbox" name="catNo" value="#{CATE_NO}" style="display:none;" #{LOG_DISABLED} />');this.aTopListBody.push('<input type="hidden" name="sourceCode" value="#{SOURCE_CODE}">');this.aTopListBody.push('<input type="hidden" name="sellerServiceStatus" value="#{SELLER_SERVICE_STATUS}">');this.aTopListBody.push("</span>")}this.aTopListBody.push('<a href="'+blogURL+"/PostView.naver?blogId="+blogId+"&logNo=#{LOG_NO}&categoryNo=#{CATE_NO}&parentCategoryNo=#{PARENT_CATE_NO}&viewDate="+viewDate+"&currentPage=#{CURRENT_PAGE}&postListTopCurrentPage="+postListTopCurrentPage+"&from="+from+'" class="pcol2 _setTop _setTopListUrl">');this.aTopListBody.push("#{TITLE}");this.aTopListBody.push("</a></span>");this.aTopListBody.push('<i class="cline"></i>');this.aTopListBody.push("</div>");this.aTopListBody.push("</td>");if(blogOwner){this.aTopListBody.push('<td class="read">');this.aTopListBody.push('<div class="wrap_td">');this.aTopListBody.push('<a href="'+commonStatDailyURL+'/blog/article/#{LOG_NO}/cv" target="_blank" class="pcol2 aggregate_click_delegate">#{READ_CNT}</a>');this.aTopListBody.push('<i class="cline"></i>');this.aTopListBody.push("</div>");this.aTopListBody.push("</td>")}this.aTopListBody.push('<td class="date">');this.aTopListBody.push('<div class="wrap_td">');this.aTopListBody.push('<span class="date pcol2">#{DATE}</span>');this.aTopListBody.push('<i class="cline"></i>');this.aTopListBody.push("</div>");this.aTopListBody.push("</td>");this.aTopListBody.push("</tr>");if(blogOwner){this.aTopListBody.push('<tr class="tr_tag"><td colspan="3"><div class="wrap_td">');this.aTopListBody.push('<div class="wrap_tag" id="tagTopName_#{LOG_NO}" #{LOG_BLIND}>');this.aTopListBody.push('<p class="text pcol2">작성된 태그가 없습니다.</p>');this.aTopListBody.push('<a href="#" class="btn pcol2 _returnFalse _showTagEditBox _tagRosRestrict _param(EDIT|#{LOG_NO}|TOP|INSERT)">태그달기<i class="aline"></i></a>');this.aTopListBody.push("</div>");this.aTopListBody.push('<div class="wrap_tag" style="display:none">');this.aTopListBody.push('<span class="wrap_input_text">');this.aTopListBody.push('<input type="text" class="input_text pcol2" title="태그를 입력하세요." value="">');this.aTopListBody.push('<i class="aline pcol2"></i><i class="pcol2b"></i></span>');this.aTopListBody.push('<span class="wrap_btn"><a href="#" class="btn pcol2 _cancelTag _returnFalse _param(TOP|#{LOG_NO})">취소<i class="aline"></i></a>');this.aTopListBody.push('<a href="#" class="btn pcol2 _saveTag _returnFalse _param(TOP|#{LOG_NO})" onclick="clickcr(this,\'cat_tag.editok\',\'\',\'\',event);">확인<i class="aline"></i></a></span>');this.aTopListBody.push("</div>");this.aTopListBody.push('<i class="cline"></i></div></td></tr>')}this.aTopListFooter.push("</tbody>");this.aTopListFooter.push("</table></form>");this.aTopListFooter.push('<div class="wrap_ctrl _listbtn">');if(blogOwner){this.aTopListFooter.push('<div class="area_btn">');this.aTopListFooter.push('<a href="#" class="btn_ctrl_toggle pcol2 _toggleListTopManager _rosRestrict _returnFalse" role="button" id="btnSwitchManager">');this.aTopListFooter.push('<span class="txt">글관리 열기</span>');this.aTopListFooter.push('<i class="aline"></i>');this.aTopListFooter.push("</a>");this.aTopListFooter.push('<div class="area_btn_ctrl pcol2" id="listManagerWrapper" style="display:none">');this.aTopListFooter.push('<a href="#" class="btn_ctrl pcol2 _cfmAuthUpdatePost _rosRestrict _returnFalse">설정 변경<i class="aline"></i></a>');this.aTopListFooter.push('<a href="#" class="btn_ctrl pcol2 _cfmPostRegistTagName _rosRestrict _tagRosRestrict _returnFalse">태그달기<i class="aline"></i></a>');this.aTopListFooter.push('<a href="#" class="btn_ctrl pcol2 _cfmMovePost _rosRestrict _returnFalse" role="button">이동<i class="aline"></i></a>');this.aTopListFooter.push('<a href="#" class="btn_ctrl pcol2 _cfmDeletePost _rosRestrict _returnFalse" role="button">삭제<i class="aline"></i></a>');this.aTopListFooter.push('<i class="aline"></i>');this.aTopListFooter.push("</div></div>")}this.aTopListFooter.push('<div class="area_btn2">');this.aTopListFooter.push('<div class="area_select">');this.aTopListFooter.push('<a  href="#" role="button" class="btn_select pcol2 _ListCountToggle _returnFalse" id ="listCountToggle" area-haspopup="true" area-expanded="false">');this.aTopListFooter.push('<span class="txt" id="listCountView">');this.aTopListFooter.push("#{LIST_COUNT}");this.aTopListFooter.push("줄 보기</span>");this.aTopListFooter.push('<i class="aline"></i><i class="icon"></i>');this.aTopListFooter.push("</a>");this.aTopListFooter.push('<div class="dropdown_select _changeListCount" id="changeListCount" area-hidden="true">');this.aTopListFooter.push('<a href="#" class="option _returnFalse aggregate_click_delegate" area-selected="false" data-value="5">5줄 보기</a>');this.aTopListFooter.push('<a href="#" class="option _returnFalse aggregate_click_delegate" area-selected="false" data-value="10">10줄 보기</a>');this.aTopListFooter.push('<a href="#" class="option _returnFalse aggregate_click_delegate" area-selected="false" data-value="15">15줄 보기</a>');this.aTopListFooter.push('<a href="#" class="option _returnFalse aggregate_click_delegate" area-selected="false" data-value="20">20줄 보기</a>');this.aTopListFooter.push('<a href="#" class="option _returnFalse aggregate_click_delegate" area-selected="false" data-value="30">30줄 보기</a>');this.aTopListFooter.push('<i class="aline"></i>');this.aTopListFooter.push("</div></div></div>");this.aTopListFooter.push("</div>");this.aTopListFooter.push('<div class="wrap_blog2_paginate">');this.aTopListFooter.push("#{PAGING}");this.aTopListFooter.push("</div>");this.aTopListFooter.push("</div>")},_makeListTable:function(v){var h,p,s,m,k,o,n,A,b,w,a,t,u,y,f,x,C,r,q,B,l,j,g,z;h=[];p=this.aTopListHead;s=this.aTopListBody;m=this.aTopListFooter;if(categoryName){h.push(p.join("").replace(/#\{CATEGORY_NAME\}/g,utility.decodeURIComponentForJava(categoryName)))}else{h.push(p.join(""))}k=v.postList;o=v.parameters.categoryNo;n=v.parameters.parentCategoryNo;A=v.parameters.currentPage;g=1;C='<span class="icon_round pcol2">#{ICON_NAME}<i class="aline"></i></span>';if(k){for(y=0,f=k.length;y<f;y++){r=k[y];q=s.join("");z="chk"+g;g=g+1;switch(r.postProductStatus){case"ON_SALE":u="판매중";j='<span class="icon_round OnSale">#{ICON_NAME}<i class="aline"></i></span>';j=j.replace(/#\{ICON_NAME\}/g,u);q=q.replace(/#\{MARKET_ICON\}/g,j);break;case"BE_SCHEDULED":u="판매예정";j='<span class="icon_round pcol2">#{ICON_NAME}<i class="aline"></i></span>';j=j.replace(/#\{ICON_NAME\}/g,u);q=q.replace(/#\{MARKET_ICON\}/g,j);break;case"SALE_END":u="판매종료";j='<span class="icon_round icon_market pcol2 fil5">#{ICON_NAME}<i class="aline"></i></span>';j=j.replace(/#\{ICON_NAME\}/g,u);q=q.replace(/#\{MARKET_ICON\}/g,j);break;default:q=q.replace(/#\{MARKET_ICON\}/g,"")}if(r.searchYn=="false"&&blogOwner&&r.openType=="2"){u="검색비허용";B=C;B=B.replace(/#\{ICON_NAME\}/g,u);q=q.replace(/#\{SEARCH_ICON\}/g,B)}else{q=q.replace(/#\{SEARCH_ICON\}/g,"")}if(r.isPostNotOpen=="1"){u="비공개";q=q.replace(/#\{VIEW_ICON\}/g,C)}else{switch(r.openType){case"1":u="이웃공개";q=q.replace(/#\{VIEW_ICON\}/g,C);break;case"3":u="서로이웃공개";q=q.replace(/#\{VIEW_ICON\}/g,C);break;case"0":u="비공개";q=q.replace(/#\{VIEW_ICON\}/g,C);break;default:q=q.replace(/#\{VIEW_ICON\}/g,"")}}if(r.isBlockTmpForced=="1"){q=q.replace(/#\{LOG_BLIND\}/g,(r.isPostSelectable=="1"?'style="display:none;"':""))}q=q.replace(/#\{INPUT_TAG_ID\}/g,z);q=q.replace(/#\{LOG_DISABLED\}/g,(r.isPostSelectable=="1"?"isblocked=true":""));q=q.replace(/#\{LOG_NO\}/g,r.logNo);q=q.replace(/#\{CURRENT_PAGE\}/g,A);q=q.replace(/#\{CATE_NO\}/g,o);q=q.replace(/#\{TITLE\}/g,utility.decodeURIComponentForJava(r.title));q=q.replace(/#\{READ_CNT\}/g,r.readCount);q=q.replace(/#\{DATE\}/g,r.addDate);q=q.replace(/#\{SOURCE_CODE\}/g,r.sourceCode);q=q.replace(/#\{ICON_NAME\}/g,u);q=q.replace(/#\{COMMENT_COUNT_AREA\}/g,(r.commentCount!=""?"(<span>#{COMMENT_COUNT}</span>)".replace(/#\{COMMENT_COUNT\}/g,r.commentCount):""));q=q.replace(/#\{POST_SELETED\}/g,search_logNo==r.logNo?"on":"");q=q.replace(/#\{PARENT_CATE_NO\}/g,n);q=q.replace(/#\{SELLER_SERVICE_STATUS\}/g,r.sellerServiceStatus);h.push(q)}}x=m.join("");x=x.replace(/#\{LIST_COUNT\}/g,this.getCurrentTopListCount());x=x.replace(/#\{PAGING\}/g,v.pagingHtml);h.push(x);if(this.elTopList){$Element(this.elTopList).html(h.join(""))}p=s=m=k=o=n=A=b=w=a=t=u=y=f=x=C=r=q=B=l=h=null},getListLogNo:function(){var a,j,g,f,h,b;a=$("listTopForm");j=$$("input[type=checkbox][name=logNo]",a);g=[];f=j.length;for(h=0;h<f;h++){b=j[h];if(b.checked){g.push("&logNo=");g.push(b.value)}}a=j=f=h=b=null;return g.join("")},checkAllPost:function(g){var b,f,j,a,h;b=$("listTopForm");f=$("checkall");j=$$("input[name=logNo][type=checkbox][disabled=false]",b);a=j.length;this.bCheckAll=typeof g=="boolean"?g:f.checked;for(h=0;h<a;h++){j[h].checked=this.bCheckAll}if(f){f.checked=this.bCheckAll}if(!isMemolog){this.changeCheckboxAll(f,j)}b=f=j=a=h=null},changeCheckboxAll:function(b,g){var a,f;a=g.length;if(a===0){return}for(f=0;f<a;f++){this.changeCheckbox(g[f])}this.changeCheckbox(b)},changeCheckbox:function(b){var a=$Element(b.parentNode);if(b.checked){a.addClass("checked");return}a.removeClass("checked")},changeListCountView:function(a){var f=$(a.element);var b=cssquery.getSingle("#changeListCount .option[area-selected = 'true']");$Element(b).attr("area-selected","false");$Element(f).attr("area-selected","true")},toggleListCountView:function(f){var h=$(f.element);var g=$Element(cssquery.getSingle("!a",h)?cssquery.getSingle("!a",h):h);var a=g.next();var b=g.attr("area-expanded")=="false";g.attr("area-expanded",b);g[b?"addClass":"removeClass"]("on");a.attr("area-hidden",!b);a[b?"addClass":"removeClass"]("on")},closesListCountView:function(){var b=$Element("listCountToggle");if(!$Element("listCountToggle")){return}var a=b.next();b.removeClass("on");b.attr("area-expanded","false");a.attr("area-hidden","true");a.removeClass("on")},toggleListTopManager:function(b,a){if(isMemolog){this.toggleListTopManagerForMemo(b,a);return}var f=b?false:true;if(!$Element(this.elTopList).hasClass("show-list-manager-mode")==f){if(a){clickcr(a.element,"cat.settingopen","","",a.$value())}this.openListTopManager()}else{if(a){clickcr(a.element,"cat.settingclose","","",a.$value())}this.closeListTopManager()}f=null},openListTopManager:function(){this.toggleManagerBtn(false);var a=$("listManagerWrapper");if(a){$Element(this.elTopList).addClass("show-list-manager-mode");a.style.display="block"}if(!tagMarkDisplayIfPostTagEmpty&&!$Element(this.elTopList).hasClass("disable-tag")){$Element(this.elTopList).addClass("disable-tag")}},closeListTopManager:function(){this.toggleManagerBtn(true);var a=$("listManagerWrapper");if(a){$Element(this.elTopList).removeClass("show-list-manager-mode");a.style.display="none"}this.checkAllPost(false);this._resetTagEdit()},toggleManagerBtn:function(b){var f=$Element($("btnSwitchManager"));var a=f.child()[0];a.html(b?"글관리 열기":"글관리 닫기")},toggleListTopManagerForMemo:function(b,a){var f=b?false:true;if(!$Element(this.elTopList).hasClass("show-list-manager-mode")==f){if(a){clickcr(a.element,"cat.settingopen","","",a.$value())}this.openListTopManagerForMemo()}else{if(a){clickcr(a.element,"cat.settingclose","","",a.$value())}this.closeListTopManagerForMemo()}f=null},openListTopManagerForMemo:function(){$Element(this.elTopList).addClass("show-list-manager-mode");$Element($$.getSingle("._listbtn")).addClass("opn");if(!tagMarkDisplayIfPostTagEmpty&&!$Element(this.elTopList).hasClass("disable-tag")){$Element(this.elTopList).addClass("disable-tag")}},closeListTopManagerForMemo:function(){$Element(this.elTopList).removeClass("show-list-manager-mode");$Element($$.getSingle("._listbtn")).removeClass("opn");this.checkAllPost(false);this._resetTagEdit()},getCheckboxChecked:function(){return $$("input[name=logNo][type=checkbox][checked=true]",$("listTopForm"))},getCheckboxCheckedExceptBlocked:function(){return $$("input[name=logNo][type=checkbox][checked=true][isblocked!=true]",$("listTopForm"))},cfmPostRegistTagName:function(){var b=this.getCheckboxChecked().length;var a=$$("input[name=logNo][type=checkbox]",$("listTopForm")).length;if(b>0){window.open((isMemolog?"/memo/MemologPostTagRegistConfirm.naver":"/PostTagRegistConfirm.naver")+"?blogId="+blogId+"&cnt="+a,"_postTagCfm","width=400,height=190")}else{alert("글을 선택하세요.")}b=null},cfmAuthUpdatePost:function(){var b=this.checkedServiceStatus();if(b!==""){if(b==="TEMPORARY_STOP"){alert("판매자 정보 일시 제외 상태에서는 마켓글의 설정 변경이 불가합니다.")}else{if(b==="LEAVE_REQUEST"){alert("판매자 탈퇴 신청 상태에서는 마켓글의 설정 변경이 불가합니다.")}else{if(b==="TRADE_INTERRUPTION"){alert("판매자 탈퇴 신청 상태에서는 마켓글의 설정 변경이 불가합니다.")}}}return}if(this.getCheckboxChecked().length>0){if(this.getCheckboxCheckedExceptBlocked().length==0){alert("이용이 제한된 글은 설정이 변경되지 않습니다.");return}var g=this.getCheckboxChecked();var h="";for(var f=0;f<g.length;f++){var a=g[f].value;if(!a||a==="undefined"){continue}h+="&logNoStruct="+a}window._nBlogPageId=utility.getRandNumber();window.open("/MultiplePostOptionsUpdateForm.naver?blogId="+blogId+h,"_postAuthUpdateCfm","top=100px, left=100px, width=495px, height=280px, scrollbars=yes, resizable=yes")}else{alert("글을 선택하세요.")}},cfmMovePost:function(){var a=this.checkedServiceStatus();if(a!==""){if(a==="TEMPORARY_STOP"){alert("판매자 정보 일시 제외 상태에서는 마켓글 이동이 불가합니다.");return}if(a==="LEAVE_REQUEST"){alert("판매자 탈퇴 신청 상태에서는 마켓글의 이동이 불가합니다.");return}if(a==="TRADE_INTERRUPTION"){alert("판매자 탈퇴 신청 상태에서는 마켓글의 이동이 불가합니다.");return}}if(this.getCheckboxChecked().length>0){window.open((isMemolog?"/memo/MemologPostCategoryMoveForm.naver":"/PostCategoryMoveForm.naver")+"?blogId="+blogId,"_postMoveCfm","width=330,height=270")}else{alert("글을 선택하세요.")}nCheckedCnt=null},cfmDeletePost:function(){var b=this.checkedServiceStatus();if(b!==""){if(b==="TEMPORARY_STOP"){alert("판매자 정보 일시 제외 상태에서는 해당 기능을 사용할 수 없습니다. ");return}}var a,g,h,f;h=[];f=[];aElChecked=this.getCheckboxChecked();a=aElChecked.length;for(g=0;g<a;g++){h.push($$.getSingle("~input[type=hidden][name=sourceCode]",aElChecked[g]).value);f.push(aElChecked[g].value)}$("logNoStruct").value=utility.arrays2JsonStr(["logNo","sourceCode"],[f,h]);if(a>0){window.open(isMemolog?"/post/memologPostDeleteConfirm.jsp":"/post/postDeleteConfirm.jsp","_postDeleteCfm","width=330,height=190")}else{alert("글을 선택하세요.")}a=g=h=f=null},checkedServiceStatus:function(){var h=this.getCheckboxChecked();var g=[];var f=h.length;for(var a=0;a<f;a++){var j=$$.getSingle("~input[type=hidden][name=sellerServiceStatus]",h[a]);if(!j||j==="undefined"){continue}g.push(j.value)}for(var a=0;a<g.length;a++){var b=g[a];if("TEMPORARY_STOP"===b){return"TEMPORARY_STOP"}if("LEAVE_REQUEST"===b){return"LEAVE_REQUEST"}if("TRADE_INTERRUPTION"===b){return"TRADE_INTERRUPTION"}}return""},changeListCount:function(b){var f=b.element;var g=$("listCountView");if(this.isNotChangeSelect(f)){this.closesListCountView();return}this.changeListCountView(b);g.innerHTML=this.getCurrentTopListCount()+"줄 보기";if($Element(f).hasClass("option")&&(b.type=="click")){var a=this.getCurrentTopListCount();clickcr(b.element,"cat.show"+a,"","",b.$value());this._isSelectTag=true;this.loadPostList({logNo:this.topLog,countPerPage:a})}},isNotChangeSelect:function(a){var f=$(a);var b=cssquery.getSingle("#changeListCount .option[area-selected = 'true']");return $Element(b).attr("data-value")==$Element(f).attr("data-value")},checkBlock:function(a){if(penalty.isBlocked()){penalty.showMessage();a.stop();return false}return true}});postCommon.View=$Class({COMMENT:"1",RELAY:"2",SYMPATHY:"3",$init:function(){this.deleteNo=null;this.arrChkopen=["0","0","0","0","0","0","0","0","0","0","0"];this.arrChkopen[0]="1";this.setSendPost()},resizeAllPosts:function(){var f=document.getElementsByName("outerDL");for(var b=0,a=f.length;b<a;b++){this.resizePost(f[b])}},resizePost:function(f){if(f){this.elDl=f}else{f=this.elDl}try{this.dd=$$.getSingle("dd",f);this.dt=$$.getSingle("dt",f);var g=$Element(f);var b=$Element(this.dd);var j=$Element(this.dt);g.css({width:"100%"});var a=g.width();if(a!=0&&j.width()==a){weldd.css({width:"100%"})}else{b.width(g.width()-j.width()-Math.abs(parseInt(j.css("marginLeft"),10)+parseInt(j.css("marginRight"),10)))}if(b.width()==""||b.width()==0){setTimeout($Fn(function(){this.resizePost()},this).bind(),100)}}catch(h){setTimeout($Fn(function(){try{this.resizePost()}catch(k){}},this).bind(),100)}},relayControl:function(a,h,b){if(blockType==2||blockType==6){alert("이 게시물은 게시중단 되어\n엮인글 열람 및 작성이 불가합니다.");return}if(a){clickcr(a.element,"res.replyopen","","",a.$value())}var g=window.open("","relayList","width=610,height=964,scrollbars=yes");if(popupEnableChecker.checkOpenedWindowAndAlertWhenDisabledStatus(g,userAgentUtil.isIPadRequest())){var f=$("relayListForm");if(f==null){f=document.createElement("form");f.id="relayListForm";document.body.appendChild(f)}f.target="relayList";f.method="post";f.action=blogURL+"/PostRelayList.naver?blogId="+blogId+"&fno="+h+"&logNo="+b+"&isPopup=true";f.submit()}else{g.close()}},cmtControl:function(a,q,b,h,m,f,l,p){var r="201";a=a+"";var o=$("sympathyFrm"+b);var g=$Element(o);var n=g.visible();switch(a){case this.COMMENT:if(h==2||h==6){alert("이 게시물은 게시중단 되어\n댓글 열람 및 작성이 불가합니다.");return}if(!naverCommentController.isVisible(r,b)){if(p){clickcr(p.element,"res.replyopen","","",p.$value())}var j={blogNo:blogNo,ticketNo:r,targetNo:b,commentNoPosition:f,aFormation:["list","page","write"],isPostComment:true,nPageSize:50,sPageType:"default",sLikeItId:blogId+"_"+b,bIsAutoFocus:l};naverCommentController.open(j);this._selectCommentButton(b);g.hide()}else{if(p){clickcr(p.element,"res.replyclose","","",p.$value())}naverCommentController.close(r,b);this._releaseAllButton(b)}break;case this.RELAY:this.relayControl(p,q,b);break;case this.SYMPATHY:if(h==2||h==6){alert("이 게시물은 게시중단 되어\n공감하기 및 열람이 불가합니다.");return}if(!n||this.arrChkopen[q]!=a){if(p){clickcr(p.element,"res.symopen","","",p.$value())}g.show();var k=document.body.className;o.src="/SympathyHistoryList.naver?blogId="+blogId+"&logNo="+b+"&layoutWidthClassName="+k;this._selectSympathyButton(b);naverCommentController.close(r,b)}else{if(p){clickcr(p.element,"res.symclose","","",p.$value())}this._releaseAllButton(b);g.hide(o)}break}this.arrChkopen[q]=a;isOpenCmt=naverCommentController.isVisible(r,b);n=g.visible()},_selectCommentButton:function(a){var b=$("Comi"+a);var f=b?$Element(b).parent(function(g){return g.hasClass("area_comment")},1)[0]:null;this._releaseSympathyButton(a);this.selectButton(b);this.selectButton(f)},_selectSympathyButton:function(a){var f=$("area_sympathy"+a);var g=$$.getSingle(".btn_sympathy",f);var b=$("Sympathy"+a);this._releaseCommentButton(a);this.selectButton(f);this.selectButton(g);this.selectButton(b)},_releaseSympathyButton:function(b){var a=$("Sympathy"+b);var f=$("area_sympathy"+b);var g=$$.getSingle(".btn_sympathy",f);this.releaseButton(a);this.releaseButton(f);this.releaseButton(g)},_releaseCommentButton:function(a){var b=$("Comi"+a);var f=b?$Element(b).parent(function(g){return g.hasClass("area_comment")},1)[0]:null;this.releaseButton(b);this.releaseButton(f)},_releaseAllButton:function(b){var f=$("Comi"+b);var g=f?$Element(f).parent(function(k){return k.hasClass("area_comment")},1)[0]:null;var a=$("Sympathy"+b);var h=$("area_sympathy"+b);var j=$$.getSingle(".btn_sympathy",h);this.releaseButton(f);this.releaseButton(g);this.releaseButton(a);this.releaseButton(h);this.releaseButton(j)},setCommentCount:function(b,f){var a=$Element($("Comi"+f));if(!a){return}if(b==0){a.html("댓글 쓰기")}else{a.html("댓글 "+b+"개")}a=null},setRelayCount:function(b,f){var a=$Element($("Rew"+f));if(!a){return}if(b==0){a.html("엮인글 쓰기")}else{a.html("엮인글 "+b+"개")}a=null},setSympathyCount:function(b,f){var a=$Element($("Sympathy"+f));if(!a){return}if(b==0){if(blogOwner){a.html("공감")}else{a.hide()}}else{a.html("공감 "+b)}elBtn=null},selectButton:function(b){var a=$Element($(b));if(!a){return}a.removeClass("pcol2");a.addClass("pcol3")},releaseButton:function(b){var a=$Element($(b));if(!a){return}a.removeClass("pcol3");a.addClass("pcol2")},event_sublayer:function(l){var n=l[0];var m=l[1];var b=l[2];var g=l[3];var o=b.toLowerCase()=="b"?"205":"204";var k=$("EventComi"+n);var f=$Element(k);var h=$("EventCom"+n);var a=$Element(h);if(!naverCommentController.isVisible(o,m)){var j={blogNo:blogNo,ticketNo:o,targetNo:m,commentNoPosition:"",aFormation:["list","page","write"],isPostComment:false,nPageSize:50,sPageType:"default",sLikeItId:""};naverCommentController.open(j);f.toggleClass("icon_navigation_b","icon_navigation_a");a.toggleClass("pcol2","pcol3")}else{naverCommentController.close(o,m);f.toggleClass("icon_navigation_b","icon_navigation_a");a.toggleClass("pcol2","pcol3")}},stopqmsg:function(){$Element($("mrblogcontents")).hide();$Element($("mrblogdivisionline")).hide();var a=$("closeMrBlogForm");a.action="/MrBlogQuestionDismiss.naver?blogId="+blogId+"&flag=0";a.submit()},sympathy:function(a,b,f){loginObj.isLogin($Fn(function(){if(b==2||b==6){alert("이 게시물은 게시중단 되어\n공감하기 및 열람이 불가합니다.");return}var g="/PostSympathyAddAndCountAsync.naver";new $Ajax(g,{method:"post",onerror:function(){},onload:$Fn(function(h){try{var l=h.json()}catch(k){return false}if(l.resultCode==3){var j=blogURL+"/post/common/reloadOpenerParentAndClose.jsp";window.open(idURLSecret+"/nidlogin.login?mode=form&template=plogin&url="+j,"loginPopup","width=400,height=267");return}if(l.resultCode==5){alert(l.message);return}if(l.resultCode!=1){alert(l.message)}if(l.count>0&&l.resultCode!=2){this.setSympathy(l.logNo,l.count)}},this).bind()}).request({blogId:blogId,logNo:a})},this).bind(),loginObj.popUpLogin)},setSympathy:function(b,g){var a=$("Sympathy"+b);var j=$Element(a);j.show();j.html("공감 "+g);var f=$("sympathyFrm"+b);if(f){try{f.contentWindow.location.reload()}catch(h){}}if(!$Element(f).visible()){j.fireEvent("click")}},realModifyPost:function(h,a,g,l,f,b){var k="/"+blogId;var j="";if(gIsRabbitWriterOn==="false"&&f==3){if(blogOwner){j=gSE3Url+"editor?docId="+a}else{j=gSE3Url+"editor?docId="+a+"&targetUserId="+gBlogId+"&targetBBS="+b}}else{j=k+"?Redirect=Update&cpage="+g+"&sourceCode="+h+"&logNo="+a}if(isRequestFromIPad||$Agent().navigator().mobile||$Agent().navigator().msafari||f==3){window.top.location.href=j}else{window.top.location.href=j}},modifyPost:function(b,f,a){loginObj.isLogin($Fn(function(){if(readOnlyStatus){alert(readOnlyLinkErrorMsg);return}var g="/ScrapBlackListCheck.naver";new $Ajax(g,{method:"POST",onerror:function(){},onload:$Fn(function(k){var j=k.json();var h=nickName?nickName+"("+blogId+")":blogId;if(j.isVisitorBlackListed){alert(h+" 님은 글쓰기 제한 기능을 사용하고 있습니다.")}else{this._modifyPost(b,f,a)}},this).bind()}).request({blogId:blogId,blogNo:blogNo,blogNickName:nickName,sourceBlogNo:blogNo,sourceBlogId:blogId,sourceBlogNickName:nickName})},this).bind(),loginObj.openLayeredLogin)},_isNotPPCMac:function(){var a=navigator.userAgent;return(a||"").indexOf("PPC Mac OS X")<0},_findCountByLogNo:function(a){for(var b=1;b<aPostBaseInfo.length;b++){if(aPostBaseInfo[b].split("|")[0]==a){return b}}},_modifyPost:function(f,m,k){if(m==null){m=this.modifyNo}if(m>100){m=this._findCountByLogNo(m)}var n=aPostBaseInfo[m].split("|");var a=n[0];var g=n[1];var h=aPostSendInfo[m];var j=n[2];var l=n[3];var b=n[4];var o=n[5];var q=n[7];var p=n[8];if(g!=0&&($Agent().navigator().version=="5.5"&&$Agent().navigator().ie)){alert("IE 5.5에서는 템플릿쓰기를 수정 할 수 없습니다. IE 6.0 이상을 사용해 주세요.")}else{if(o==4){alert("죄송합니다. 수정 권한이 없습니다.");return false}if(o==2||o==6){alert("이 게시물은 게시중단 되어\n수정하실 수 없습니다.");return false}if(penalty.isBlocked()){penalty.showMessage();return false}if(this._isNotPPCMac()&&$Agent().navigator().mobile||$Agent().navigator().msafari){if(!isOverIOS5_0Version&&!isOverAndroidJellybeanVersion){if(!confirm("이 글을 TEXT모드에서 수정하시겠습니까?\n\n에디터,html모드에서 작성하신 글을 TEXT모드에서 수정하실 경우, 작성된 글은 유지되나, 글꼴 등의 편집효과와 이미지 등의 첨부내용이 사라집니다.")){return false}}}if(h.length==0){this.realModifyPost(g,a,l,b,q,p)}else{if(k&&k=="realModify"){this.realModifyPost(g,a,l,b,q,p);return}if(this.makeLayerContent("modify",j)==true){this.upToLayer(f,$("sendPostLayer"))}else{this.realModifyPost(g,a,l,b,q,p)}this.modifyNo=m}}},realDeletePost:function(f,a,b){var g=document.deletePostFrm;if(!g){return}g.blogId.value=blogId;g.cpage.value=b;g.categoryNo.value=categoryNo;g.parentCategoryNo.value=parentCategoryNo;g.viewDate.value=viewDate;g.sourceCode.value=f;g.logNo.value=a;g.currentPage.value=b;g.action=(isMemolog?"/memo/MemologPostDelete.naver":"/PostDelete.naver");g.submit()},deletePost:function(f,g,a,b){if(readOnlyStatus){alert(readOnlyLinkErrorMsg);return}loginObj.isLogin($Fn(function(){this._deletePost(f,g,b,a)},this).bind(),loginObj.openLayeredLogin)},_deletePost:function(b,m,o,k){if(m==null){m=this.deleteNo}if(m>100){m=this._findCountByLogNo(m)}var n=aPostBaseInfo[m].split("|");var a=n[0];var f=n[1];var h=aPostSendInfo[m];var j=n[2];var l=n[3];if(h.length==0||this._isRecipe(j)){var g=o=="true"?"이 글은 공지로 등록되어 있어 삭제하실 경우\n공지도 함께 삭제됩니다. 삭제하시겠습니까?":"삭제된 글은 복구할 수 없습니다.\n삭제하시겠습니까?";if(confirm(g)){this.realDeletePost(f,a,l)}}else{if(k&&k=="realDelete"){this.realDeletePost(f,a,l);return}if(this.makeLayerContent("delete",j)=="empty"){this.realDeletePost(f,a,l)}else{this.upToLayer(b,$("sendPostLayer"));this.deleteNo=m}}},_isRecipe:function(a){aSendInfo=aPostSendInfo[a];for(i=0;i<aSendInfo.length;i++){if(aSendInfo[i].sourceTypeAsCode==35){return true}}return false},getRecipePostStatus:function(g,b){var a=false;for(var f=0;f<g.length;f++){if(g[f].logNo==b){if(g[f].sourceCode==35&&g[f].copyYn==true){a=true}}}return a},getSendInfoForDelete:function(l){var h=aPostSendInfo[l];var k=[];var a=null;var f=[];var b=[];for(var j=0;j<h.length;j++){var g=h[j];if(g.publishingTag!="R"){a=(g.targetUrl)?"<a href='"+g.targetUrl+"' target='_blank'>"+g.targetService+"</a>":g.targetService;if(g.sourceTypeGroupId==0){f.push(((f.join(""))?", ":"")+a)}else{if(g.sourceTypeGroupId==1){b.push(((b.join(""))?", ":"")+a)}}a=null}}if(f.length>0){k.push("<li>네이버 서비스<span>"+f.join("")+"</span></li>\n")}if(b.length>0){k.push("<li>외부 서비스<span>"+b.join("")+"</span></li>\n")}return k},makeLayerContent:function(a,g){var n,m,h,o,p,j,f,k,b,l;n=false;k=false;m=[];h=aPostSendInfo[g];o="";p=$("sendPostLayerBtn");b=$Element(p);f=h.length;for(j=0;j<f;j++){if(h[j].copyYn){if(a=="delete"){m.push('<p class="tc ln15"><strong>이 글을 삭제하시겠습니까?</strong><br>#{SERVICE_NAME}에서 등록한 글은 #{SERVICE_NAME}에서 삭제해주세요.<br><a href="#{TARGET_URL}" target="_blank" style="color:#4C8D32;">#{SERVICE_NAME}에서 등록한 글 보기</a></p>');p.href="#";b.addClass("_deletePostConfirm");b.addClass("_returnFalse")}else{if(a=="modify"){m.push('<p class="tc ln15"><strong>#{SERVICE_NAME}에서 등록한 글입니다.</strong><br>#{SERVICE_NAME}에서 수정하시겠습니까?</p>');p.href=h[j].targetUrl;b.removeClass("_deletePostConfirm");b.removeClass("_returnFalse")}}n=true}else{if(a=="delete"&&!k){k=true;m.push('<p class="ln15"><strong>이 글을 삭제하시겠습니까?</strong><br>작성하신 글은 아래의 서비스로 보내신 글입니다.<br>삭제시 보낸 곳에서도 자동 삭제됩니다.</p>');m.push('<div class="post_data"><h3>글 보내기 정보</h3><ul id="sendPost_deleteList"></ul></div>')}p.href="#";b.addClass("_deletePostConfirm");b.addClass("_returnFalse")}o=m.join("");o=o.replace(/#\{SERVICE_NAME\}/g,h[j].targetService);o=o.replace(/#\{TARGET_URL\}/g,h[j].targetUrl)}if(o!=""){$("layerContent").innerHTML=o;l=$Element($("sendPost_deleteList"));if(l){l.html(this.getSendInfoForDelete(g))}}else{n="empty"}m=h=o=p=j=f=k=b=l=null;return n},upToLayer:function(f,h){var j=$Element(f).offset();var k=$Element(f);var l=$Element(h);var m=140;var g=320;var b=j.top-k.height()-m;b=b<0?0:b;var a=j.left-k.width()-g;l.css({left:a+"px",top:b+"px",zIndex:1001});l.show();oCurtain.showCurtain(h,0)},showFileLayer:function(g,q,m,j){var o,k,p,b,x,u,f,l;o=$("fileLayer");k=$Element(o);p=aPostFiles[q];b=$$.getSingle("ul",o);x=[];agent=window.navigator.userAgent.toLowerCase();for(u=0,f=p.length;u<f;u++){x.push("<li>");x.push('<img width="11" height="10" alt="file" src="'+imageURL+'/imgs/ico_file.gif"/>');var s=p[u].encodedAttachFileName;if(!(p[u].licenseyn=="F"&&(m=="false"||m==null))){var a="";if(p[u].punishType!=0){a=" _showBlockAlertLayer _param("+p[u].encodedAttachFileName+"|"+p[u].encodedAttachFileUrl+"|"+q+"|"+p[u].punishType+") _returnFalse "}else{if(p[u].maliciousCodeYn=="true"){a=" _showMalwareAlertLayer _param("+p[u].encodedAttachFileName+"|"+p[u].encodedAttachFileUrl+"|"+q+") _returnFalse "}else{if(p[u].ahfLicenseYn=="true"){a=" _showAhfLicenseAlertLayer _param("+p[u].encodedAttachFileName+"|"+p[u].encodedAttachFileUrl+"|"+q+") _returnFalse "}}}var w=s;var v="";if(s.length>12){w=s.substr(0,12)+"..";v='title="'+s+'"'}var y=p[u].encodedAttachFileUrl;var h=p[u].encodedAttachFileNameByUTF8;var r=p[u].attachFileSize.split(",").join("");if(agent.indexOf("msie")>-1||agent.indexOf("trident")>-1){y=p[u].encodedAttachFileUrlByMS949}var n="";if(j==="true"){n="_scrapPost"}var t='<div class="addfile_opt"><a href="'+y+'?type=attachment" target="_blank" class="downFile '+a+" _checkAttachFileAlive _saveAttachFile "+n+'" '+v+' >내PC 저장</a><em>|</em><a href="#" class="_checkAttachFileAlive _toNDriveFromAttachFile _param('+y+"|"+h+"|"+r+"|"+j+') _returnFalse">네이버 MYBOX 저장</a></div>';s=w+t}if(p[u].maliciousCodeYn=="true"){s=s+'<em class="bar">|</em><img src="'+imageURL+'/imgs/txt_infected.gif" width="48" height="10" alt="악성코드감염" />'}x.push(s);x.push("</li>")}b.innerHTML=x.join("");if(k.visible()&&typeof this._sPrevFileLayer!=="undefined"&&this._sPrevFileLayer===q){this.closeFileLayer()}else{k.css("zIndex",9999);k.show();utility.positionLayer(g,o,{sTargetPos:"br",sLayerPos:"tr"});this._sPrevFileLayer=q;l=k.height()+k.offset().top}p=u=f=x=b=o=k=l=null},showMalwareAlertLayer:function(b,j,g,h){var a,m,l,k,f;a=$("malwareAlertLayer");f=$Element(a);m=$$.getSingle("p",a);m.innerHTML=m.innerHTML.replace(/{FILENAME}/g,j);k=$$.getSingle("div.btns",a);k.innerHTML=k.innerHTML.replace(/FILEPATH/g,g+"?type=attachment");f.show();utility.ellipsisPage(a);if(h<0){this._showAlertLayerOnCenterOfWindow(a)}else{this._showAlertLayerUnderTitle(h,a)}f=a=m=null},showAhfLicenseAlertLayer:function(g,h,a,b){var f="이 파일은 <span>저작권 침해의 우려가 있는 내용이 포함</span>되어 있어<br>고객님외의 다른 방문자가 다운로드 할 수 없도록<br>이용이 제한되었습니다.";this.showPunishAlertLayer(g,h,a,b,f)},closeMalwareAlertLayer:function(a){$Element($("malwareAlertLayer")).hide()},showBlockAlertLayer:function(g,j,a,b,h){var f;if(h=="1"){f="이 파일은 <span>저작권법 제103조(복제&middot;전송의 중단)</span>에 따라<br>저작권자의 요청에 의해 고객님외의 다른 방문자가<br>다운로드 할 수 없도록 이용이 제한되었습니다."}else{if(h=="2"){f="이 파일은 <span>서비스 운영원칙에서 제한하는 내용이 포함</span>되어 있어<br>고객님외의 다른 방문자가 다운로드 할 수 없도록<br>이용이 제한되었습니다."}else{if(h=="3"){f="이 파일은 정보통신망이용촉진및정보보호등에 관한<br>법률 제44조의2에 따라 관련 당사자의 요청에 의해<br><span>사생활침해/명예훼손의 사유</span>로 고객님외의 다른 방문자가<br>다운로드 할 수 없도록 이용이 제한되었습니다."}else{if(h=="4"){f="이 파일은 <span>저작권 침해의 우려가 있는 내용이 포함</span>되어 있어<br>고객님외의 다른 방문자가 다운로드 할 수 없도록<br>이용이 제한되었습니다."}}}}this.showPunishAlertLayer(g,j,a,b,f)},showPunishAlertLayer:function(b,j,f,h,a){var l,m,k,g,n;l=$("blockAlertLayer");n=$Element(l);m=$$("p",l);m[0].innerHTML=a;m[1].innerHTML="이용제한 파일 : "+j;g=$Element("blockAlertDownloadBtn");g.attr("href",f+"?type=attachment");n.show();utility.ellipsisPage(l);if(h<0){this._showAlertLayerOnCenterOfWindow(l)}else{this._showAlertLayerUnderTitle(h,l)}n=l=oUl=null},closeBlockAlertLayer:function(a){$Element($("blockAlertLayer")).hide()},_showAlertLayerOnCenterOfWindow:function(f){var b=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var g=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var a=$Element(f);var k=(b-a.width())/2;var j=$Document().scrollPosition().top+(g-a.height())/2;a.offset(j,k)},_showAlertLayerUnderTitle:function(b,a){utility.positionLayer($("title_"+b),a,{sTargetPos:"br",sLayerPos:"tr",nDiffTop:0,nDiffLeft:16})},closeFileLayer:function(){utility.closeLayer("fileLayer")},checkSendInfoUrl:function(b,a){switch(a.toLowerCase()){case"travel":utility.showLayer(b.element,$("travel_closing_popup"));b.stop();break}},showSendInfoLayer:function(f,h,a){var j=aPostSendInfo[h];var m=$("sendInfoLayer");var b=$Element(m);var k=[];var g=$Element($("sendInfoLayerDiv"));g.html("");for(i=0;i<j.length;i++){var l=j[i];k.push("<p><em>"+l.targetService+"</em> : ");k.push((l.targetUrl)?'<a href="'+l.targetUrl+'" target="_blank" class="_sendInfoUrl _param('+l.sourceType+')">'+l.targetCategoryDisplay+"</a>":l.targetCategoryDisplay);if(parseInt(l.reputationCnt)>0){k.push(' <span class="bar">|</span> <span class="yes">'+l.reputationName);k.push("<em>"+l.reputationCnt+"</em></span>")}k.push("</p>")}g.html(k.join(""));if(b.visible()&&typeof this._sPrevSendInfoLayer!=="undefined"&&this._sPrevSendInfoLayer===h){utility.closeLayer(m)}else{welLayer=$Element(m);welTarget=$Element(f);welLayer.show();welLayer.css({top:welTarget.offset().top+welTarget.height()+"px",left:welTarget.offset().left-(welLayer.width()/2)+"px",zIndex:500});this._sPrevSendInfoLayer=h;setTimeout(function(){b.css({zoom:1})},0)}},setSendPost:function(){for(var h=1,g=aPostSendInfo.length;h<g;h++){if(!aPostSendInfo[h]){continue}var b=aPostSendInfo[h];for(var f=0,k=b.length;f<k;f++){if(b[f].copyYn){var a=b[f].logNo;$Element($("sendPost_"+a)).hide();$Element($("sendPost_from_service_"+a)).show();$Element($("sendPost_from_service_H_"+a)).html('<a href="'+b[f].targetUrl+'" target="_blank">'+b[f].targetService+" &gt; "+b[f].targetCategoryDisplay+"</a>")}}}},reloadByUser:function(){location.href="/PostView.naver?blogId="+blogId+"&logNo="+paramLogNo},closeRosMsg:function(){$Element($("readonlynotice")).hide();document.cookie="ros|"+blogId+"=1; path=/"},isDeadAttachFile:function(f,g){if(g!="true"){return false}var a="1";var b=true;new $Ajax("/CheckAttachFileAlive.naver",{type:"xhr",method:"get",onload:function(h){if(h.status()==200&&h.text()==a){b=false}},async:false}).request({targetUrl:f});return b},openMagazineViewer:function(g,f,a,j,k,h){var b=window.open("/OpenMagazineViewer.naver?blogId="+blogId+"&logNo="+f+"&categoryNo="+a+"&parentCategoryNo="+j+"&viewDate="+k,"postviewer","width="+screen.availWidth+",height="+screen.availHeight+",left=0,top=0,resizable=yes,scrollbars=yes",true);if(b){b.focus()}if(clickcr){clickcr(g,"pst.viewer","","",h)}},openMapView:function(b,f,g,a){if(this.welLastOpenLayer!=null&&this.welLastOpenLayer.visible()){foreignPostMapViewController.hideMap();postMapViewController.hideMap();if(this.welLastOpenLayer.$value().id=="postmapview-"+f){return}}this.welLastOpenLayer=$Element("postmapview-"+f);postMapViewController.showMap(b.parent().$value(),f,g,a)},openForeignMapView:function(b,f,g,a){if(this.welLastOpenLayer!=null&&this.welLastOpenLayer.visible()){foreignPostMapViewController.hideMap();postMapViewController.hideMap();if(this.welLastOpenLayer.$value().id=="postmapview-"+f){return}}this.welLastOpenLayer=$Element("postmapview-"+f);foreignPostMapViewController.showMapLazy(b.parent().$value(),f,g,a)},openOverflowMenu:function(a,b){if(this.welLastOverflowLayer!=null&&this.welLastOverflowLayer.attr("area-hidden")=="false"){this.welLastOverflowLayer.attr("area-hidden",true);this.welLastOverflowLayer.removeClass("on");a.attr("area-expanded",false);if(typeof foreignPostMapViewController!="undefined"){foreignPostMapViewController.hideMap()}if(typeof postMapViewController!="undefined"){postMapViewController.hideMap()}if(this.welLastOverflowLayer.$value().id=="overflowmenu-"+b){return}}this.welLastOverflowLayer=$Element("overflowmenu-"+b);this.welLastOverflowLayer.attr("area-hidden",false);this.welLastOverflowLayer.addClass("on");a.attr("area-expanded",true)},modifyPostAdvertise:function(f,b,a,g){new $Ajax("/PostAdvertiseUpdateAsync.naver",{method:"post",onerror:function(){alert("설정 중 문제가 발생 했습니다.")},onload:$Fn(function(h){var j=h.json();if(!j){alert("설정 중 문제가 발생 했습니다.");return}if(g){alert("이 글에 광고를 노출합니다.")}else{alert("이 글에만 광고를 노출하지 않습니다.")}location.reload()},this).bind()}).request({blogId:b,logNo:a,postAdvertiseYN:g})},report:function(b,a){loginObj.isLogin($Fn(function(){window.open(a,"SRP","height=800,width=580,scrollbars=yes,menubar=no,toolbar=no,location=no")},this).bind(),loginObj.openLayeredLogin)}});var MalWareManage={hideExternalLayerAll:function(){var a=$Element($("blockScrapLayerIdByMalware"));if(a){a.hide()}}};var MusicManage={showSendPostBlockLayer:function(b){this.hideExternalLayerAll();if(!isParentExist()){return false}var a=$Element(parent.$("sendPostBlockLayerById"));if(!a){return false}var f=$Element(b).offset();a.css({top:$Element(self.frameElement).offset().top+f.top+"px",left:f.left+"px"});a.show();a=null;return false},showSendPostBlockModifyLayer:function(b){this.hideExternalLayerAll();if(!isParentExist()){return false}var a=$Element(parent.$("sendPostBlockModifyLayerById"));if(!a){return false}var f=$Element(b).offset();a.css({top:$Element(self.frameElement).offset().top+f.top+"px",left:f.left+"px"});a.show();return false},hideExternalLayerAll:function(){var b=$Element($("blockScrapLayerId"));if(isParentExist()&&parent.$&&b){b.hide();var a=$A([$Element(parent.$("temporaryBlockScrapLayerId")),$Element(parent.$("sendPostBlockModifyLayerById")),$Element(parent.$("sendPostBlockLayerById"))]);a.forEach(function(f,g,h){if(f){f.hide()}})}},changeSendPostArea:function(a){var b=$Element($("send_post"));if(b.visible()){b.hide();$Element($("chageSendPostById")).show()}else{this.showSendPostBlockModifyLayer(a)}b=null}};function isParentExist(){try{if(!parent||!parent.document||typeof parent=="undefined"){return false}}catch(a){return false}return true}nhn.husky.SE2View_Footnote=$Class({name:"SE2View_Footnote",$init:function(){this.sFootnoteTxtClassName="husky_se2_footnote_txt";this.sFootnoteAreaClassName="husky_se2_footnote_area";this.sFootnoteAttr="_se2_footnote";this.rxFrontTagRemover=/<(script|marquee)[^>]*\/?>/i;this.rxBackTagRemover=/<\/(?:\1)>/i;this.sFootnoteHoverLayerTemplate='<div style="z-index:99999;position:absolute;top:0;left:0;width:251px;padding:10px 6px 9px 11px;border:1px solid #777777;background:#ffffff;line-height:17px;color:#666666;word-break:break-all;word-wrap:break-word;"><strong style="display:block;margin-bottom:4px;color:#333333;font-size:12px;">각주<span class="husky_se2_footnote_idx" style="display:inline-block;margin:-3px 0 3px;font-family:tahoma;font-size:11px;vertical-align:middle">1</span></strong><span class="husky_se2_footnote_arrow" style="position:absolute;top:-6px;left:0px;width:9px;height:6px;background:url('+imageURL+'/imgs/icon_set.gif) 0 -411px no-repeat;"></span><span class="husky_se2_footnote_contents" style="font-size:12px;"></span></div>'},$ON_MSG_PAGE_LOADED:function(j){var k=document.createElement("DIV");k.innerHTML=this.sFootnoteHoverLayerTemplate;this.elHoverLayer=k.firstChild;this.welHoverLayer=$Element(this.elHoverLayer);this.elIdxArea=cssquery.getSingle("SPAN.husky_se2_footnote_idx",this.elHoverLayer);this.elArrowArea=cssquery.getSingle("SPAN.husky_se2_footnote_arrow",this.elHoverLayer);this.elContentsArea=cssquery.getSingle("SPAN.husky_se2_footnote_contents",this.elHoverLayer);j.insertBefore(this.elHoverLayer,j.firstChild);this.nHoverLeftMax=j.offsetWidth-this.elHoverLayer.offsetWidth-5;this.elHoverLayer.style.display="none";var h=cssquery("SPAN."+this.sFootnoteTxtClassName,j);var b=$Fn(this._onMouseOverFootnote,this);var g=$Fn(this._onMouseOutFootnote,this);for(var a=0,f=h.length;a<f;a++){b.detach(h[a],"mouseover");g.detach(h[a],"mouseout");b.attach(h[a],"mouseover");g.attach(h[a],"mouseout")}},_onMouseOverFootnote:function(h){var f=h.element;var g=$Element(h.element);var a=JSON.parse(decodeURIComponent(f.getAttribute("jsonvalue"))).desc;a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>");this.elContentsArea.innerHTML=a;this.elIdxArea.innerHTML=f.innerHTML;var b=g.offset();if(b.left>this.nHoverLeftMax){this.elArrowArea.style.left=(b.left-this.nHoverLeftMax)+"px";b.left=this.nHoverLeftMax}else{if(b.left<5){this.elArrowArea.style.left=b.left+"px";b.left=0}else{this.elArrowArea.style.left="5px";b.left-=5}}this.elHoverLayer.style.display="block";this.welHoverLayer.offset(b.top+20,b.left)},_onMouseOutFootnote:function(a){this.welHoverLayer.offset(0,0);this.elHoverLayer.style.display="none"}});var SummaryContent=$Class({$init:function(){this.sBtnHead="btnhead";this.sBtnTail="btntail";this.sMoreTail="moretail";this.htCacheContents={};this.summaryLoadLock={}},_isSummaryLoadLock:function(b){var f=this;var a=f.summaryLoadLock[b];if(typeof a!=="undefined"&&f.summaryLoadLock[b]){return true}return false},_enableSummaryLoadLock:function(a){var b=this;if(typeof a!=="undefined"&&a){b.summaryLoadLock[a]=true}},_disableSummaryLoadLock:function(a){var b=this;if(typeof a!=="undefined"&&a){b.summaryLoadLock[a]=false}},getSummaryContent:function(h,k,g){var b=this;var f=g?h+"_"+g:h;if(this._isSummaryLoadLock(this.sMoreTail+f)){return}this._enableSummaryLoadLock(this.sMoreTail+f);var j=this.htCacheContents[f];var a=new nhn.husky.SE2View_Footnote();if(typeof j!="undefined"){this.showMoreArea(f);a.$ON_MSG_PAGE_LOADED(document.body);b._disableSummaryLoadLock(b.sMoreTail+f)}else{k=k||blogId;new $Ajax("/SummaryContentFetch.naver",{method:"post",onload:$Fn(function(m){var l,r,o,q,p,n;if(window.ActiveXObject){o=m.text();q=new ActiveXObject("Microsoft.XMLDOM");q.loadXML(o);p=q.documentElement;l=p.childNodes[0].text;r=p.childNodes[1].text}else{n=m.xml();l=n.childNodes[0].childNodes[1].textContent;r=n.childNodes[0].childNodes[3].textContent}this.showMoreArea(f);this.setMoreTail(f,r);a.$ON_MSG_PAGE_LOADED(document.body);l=r=o=q=p=n=null;setTimeout($Fn(function(){var s=$(b.sMoreTail+f);new ImageLazyLoader(s).loadImages();b.htCacheContents[f]=s.innerHTML;videoPlayerController.load(b.sMoreTail+f);b._disableSummaryLoadLock(b.sMoreTail+f)},this).bind())},this).bind()}).request({logNo:h,blogId:k,key:g,imageWidth:imageWidth})}},setMoreTail:function(a,b){$Element($(this.sMoreTail+a)).html(b)},getMoreTail:function(a){return $Element($(this.sMoreTail+a)).html()},moreOpen:function(a,b){a=typeof b!="undefined"?a+"_"+b:a;this.showMoreArea(a);this.loadSummaryContents(a)},showMoreArea:function(a){$Element($(this.sBtnHead+a)).hide();$Element($(this.sBtnTail+a)).show();$Element($(this.sMoreTail+a)).css({position:"",left:"",top:"",display:""})},moreClose:function(j,h){var f=this;var g=h?j+"_"+h:j;if(f._isSummaryLoadLock(f.sMoreTail+g)){return}videoPlayerController.resetPlayer(f.sMoreTail+g);var b=document.getElementById(f.sMoreTail+g);if(b){var a=b.getElementsByTagName("iframe");for(var k=0;k<a.length;k++){var l=a[k];l.src=l.src}}$Element($(this.sBtnHead+g)).show();$Element($(this.sBtnTail+g)).hide();$Element($(this.sMoreTail+g)).hide()},loadSummaryContents:function(a){$(this.sMoreTail+a).innerHTML=$(this.sMoreTail+a+"_contentsHidden").value}});var postListTable=new postCommon.ListTable();var postView=new postCommon.View();var resizePollIframe=function(){};var oSummaryContent=new SummaryContent();var tagNameValidator={restrictedTagChars:/[\x25\x26\x2b\x3c\x3e\x3f\x2f\x5c\x27\x22\x3d\n]|(\x5c\x6e)/g,maxTagLength:100,isTagname:function(a){if(!a){return false}return a.match(this.restrictedTagChars)==null},isOverMaxLength:function(a){return a.length>this.maxTagLength}};var contentsTagLinker=(function(){var a=function(l){if(!document.querySelectorAll){return}var m=document.querySelectorAll("span.__se-hash-tag");for(var h=0;h<m.length;h++){var n=m[h];var b=n.innerText;var k=b.replace(/#/g,"");var f="";if(!tagNameValidator.isTagname(k)){continue}if(tagNameValidator.isOverMaxLength(k)){f=k.substr(tagNameValidator.maxTagLength);k=k.substr(0,tagNameValidator.maxTagLength)}var g=k.match(/[\s]/);if(g!=null){f=k.substr(g.index)+f;k=k.substr(0,g.index)}var j=l(k,n.innerHTML);n.replaceChild(j,n.childNodes[0]);if(f!=""){n.appendChild(document.createTextNode(f))}}};return{bindTagLinkOnContents:a}})();var AutoSourcing={elDiv:null,id:"",timer:null,regex:null,strings:[],skip:false,init:function(f,a){var g=$Agent().navigator();this.elDiv=$("<div>");var b=$Element(this.elDiv);b.css("opacity",1);b.className("autosourcing-stub-extra");this.id="autosourcing_tmp_"+Math.floor((Math.random()*100000));this.regex=new RegExp(f.replace("%id%","(\\d+)"));if(typeof a=="undefined"){a=true}this.setEnable(a)},setEnable:function(a){try{if(a){if(typeof document.body.oncopy!="undefined"){$Fn(this.copy,this).attach(document.body,"copy")}else{$Fn(this.keydown,this).attach(document,"keydown");$Fn(this.keypress,this).attach(document,"keypress");$Fn(this.copy,this).attach(document,"contextmenu")}}}catch(b){}finally{}},getId:function(a){var f,g,b,h;f=this.cloneRange(a);f.collapse(true);b=this.getParentElement(f);while(b&&b.parentNode){if(b.nodeType==1&&this.regex.test(b.id)){h=parseInt(RegExp.$1);return isNaN(h)?0:h}b=b.parentNode}g=this.cloneRange(a);g.collapse(false);b=this.getParentElement(g);while(b&&b.parentNode){if(b.nodeType==1&&this.regex.test(b.id)){h=parseInt(RegExp.$1);return isNaN(h)?0:h}b=b.parentNode}return -1},getSelection:function(){if(window.getSelection){return window.getSelection()}else{return document.selection}},getRange:function(b){b=b||this.getSelection();if(b.getRangeAt){try{return b.getRangeAt(0)}catch(a){return this.createRange(b)}}else{return b.createRange()}},createRange:function(a){if(a.createRange){return a.createRange()}else{return document.selection.createRange()}},cloneRange:function(a){a=a||this.getRange();if(a.duplicate){return a.duplicate()}else{return a.cloneRange()}},getParentElement:function(a){var b=a.parentElement?a.parentElement():a.commonAncestorContainer;if(!b){return null}while(b.nodeType!=1){b=b.parentNode}return b},setString:function(b,a){this.strings[b]=a},getInnerHtml:function(b){if(!b){return""}var a=document.createElement("div");a.appendChild(b);return a.innerHTML},copy:function(j){try{var h=this.getSelection();var a=this.getRange(h);var u=this.cloneRange(a);var t=/<(?:p|div)[^<>]+class\s*=\s*"?autosourcing\-stub(?:\-extra)?\-saved(?:\b|")/i;var k=/textarea|input/i;var s=/<div[^<>]+contenteditable\s*=\s*"?true"?/i;var b=this.getId(a);var p=null;var o;this.skip=false;clearTimeout(this.timer);if(b==-1){try{this.elDiv.parentNode.removeChild(this.elDiv)}catch(n){}return}if(j&&j.element&&j.element.tagName&&j.element.tagName.toUpperCase()=="A"){return}try{this.elDiv.innerHTML=this.strings[this.getId(a)]}catch(n){}if(window.getSelection&&a.cloneContents){var l=(window.XMLSerializer)?new XMLSerializer().serializeToString(a.cloneContents()):a.cloneContents().textContent;if(l==""){l=a.cloneContents().textContent}var q="";if(window.getSelection&&window.getSelection().anchorNode&&window.getSelection().anchorNode.parentNode&&window.getSelection().anchorNode.parentNode.cloneNode){q=this.getInnerHtml(window.getSelection().anchorNode.parentNode.cloneNode(true))}if(this.getBytes(l)>20){if(t.test(l)||k.test(a.commonAncestorContainer.tagName)||s.test(q)){if(this.elDiv&&this.elDiv.parentNode){this.elDiv.parentNode.removeChild(this.elDiv)}this.skip=true;return}u.collapse(false);u.insertNode(this.elDiv);if(this.elDiv.nextSibling&&this.elDiv.nextSibling.data!=""){a.setEndBefore(this.elDiv.nextSibling)}else{a.setEndAfter(this.elDiv)}h.removeAllRanges();h.addRange(a)}}else{if(document.selection){var m=document.body||document.getElementsByTagName("body")[0];var g=("<div>");var r=$("<span>");r.id=this.id;if(t.test(a.htmlText)||k.test(a.parentElement().tagName)){this.skip=true;return}if(this.getBytes(a.htmlText)>20){u.collapse(false);u.pasteHTML(r.outerHTML+"&nbsp;<span></span>");r=$(this.id);(r||u.parentElement()).insertAdjacentElement("afterEnd",this.elDiv);var f=this.elDiv.innerText?this.elDiv.innerText.length:1;a.moveEnd("character",f);try{a.select()}catch(n){}if(r&&r.parentNode){if(r.nextSibling&&r.nextSibling.nextSibling){r.parentNode.removeChild(r.nextSibling.nextSibling)}if(r.nextSibling&&r.nextSibling.nextSibling){r.parentNode.removeChild(r.nextSibling.nextSibling)}if(r){r.parentNode.removeChild(r)}}if(g&&g.parentNode){g.parentNode.removeChild(g)}}}}if(typeof document.body.oncopy!="undefined"){this.timer=setTimeout($Fn(function(){this.aftercopy(a)},this).bind(),10)}}catch(n){}finally{}},getBytes:function(a){a=$S(a).stripTags().toString();a=a.replace(/\s/g,"");a=a.replace(/&nbsp;/g,"");bytes=$S(a).bytes({charset:"euc-kr"});return bytes},aftercopy:function(a){if(this.skip){return}try{this.elDiv.parentNode.removeChild(this.elDiv);if(/WebKit/.test(navigator.userAgent)){var b=this.getSelection();b.removeAllRanges();b.addRange(a)}}catch(f){}},keydown:function(b){var a=b.key();if((a.ctrl||a.meta)&&a.keyCode==67){this.copy(b)}},keypress:function(b){var a=b.key();if((a.ctrl||a.meta)&&a.keyCode==67){this.timer=setTimeout($Fn(function(){this.aftercopy()},this).bind(),10)}},mousedown:function(a){}};var PostBottomOptionalAreaView=$Class({$init:function(){this.sPostBottomOptionalAreaType=null;this.sPostSeq="1";this.sLogNo=null},processPostBottomOptionalAreaShowOrNot:function(){if(!this._isNeedToOpenOptionalArea()){return}this._prepareForOptionalArea();this._postBottomOptionalAreaShow()},_prepareForOptionalArea:function(){this.sPostBottomOptionalAreaType=postBottomOptionalAreaType;this.sLogNo=firstPostLogNo},_postBottomOptionalAreaShow:function(){if(this.sPostBottomOptionalAreaType==commentAreaOpenType&&sCommentNoPosition!=""){postView.cmtControl(this.sPostBottomOptionalAreaType,this.sPostSeq,this.sLogNo,null,firstPostIsAllOpenPost,sCommentNoPosition)}else{postView.cmtControl(this.sPostBottomOptionalAreaType,this.sPostSeq,this.sLogNo,null,firstPostIsAllOpenPost,null,true)}},_isNeedToOpenOptionalArea:function(){if(typeof isCommentAreaOpen=="undefined"||typeof isRelayAreaOpen=="undefined"){return false}if(isCommentAreaOpen!=true&&isRelayAreaOpen!=true&&isSympathyAreaOpen!=true){return false}return true}});var postBottomOptionalAreaView=new PostBottomOptionalAreaView();var FlashUtil=$Class({$init:function(){},getFlashVersion:function(){try{try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{a.AllowScriptAccess="always"}catch(b){return"6"}}catch(b){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(\d+),.+$/)[1]}catch(b){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(\d+),.+$/)[1]}}catch(b){}}return"0"}});var flashUtil=new FlashUtil();var PostExecutor=$Class({$init:function(){this._setEvent()},_setEvent:function(){$Fn(this._onLoad,this).attach(window,"load")},_onLoad:function(){this.loadTopList();this.excuteForMemolog();this.loadTag();this.syncMenu();MusicManage.hideExternalLayerAll();MalWareManage.hideExternalLayerAll();this.checkClickPrevent();utility.checkRClickYN(rightClickOpenYn,blogOwner);this.setAutoSourcingHtmlView();this.bindFootnote();this.ellipsisForPost();if(postView){postView.resizeAllPosts()}this.patchIE6FramesetScroll();if(postListTag){setTimeout(function(){postBottomOptionalAreaView.processPostBottomOptionalAreaShowOrNot()},1000)}else{postBottomOptionalAreaView.processPostBottomOptionalAreaShowOrNot()}this.initializeSocialPlugin();this.bindTagLinkOnContents()},bindTagLinkOnContents:function(){var a=(function(b){return function(g){var f=document.createElement("a");f.className="tag";f.href="/PostListByTagName.naver?blogId="+b+"&encodedTagName="+encodeURIComponent(g);f.innerHTML="#"+g;$Fn(function(h){clickcr(h.element,"pst.posttag","","")}).attach(f,"click");return f}})(blogId);contentsTagLinker.bindTagLinkOnContents(a,"pst.posttag")},_onError:function(a){utility.nvl_error(a)},excuteForMemolog:function(){if(!isMemolog){return}var a=$("listTopForm");if(a){a.reset()}if(userTopListManageOpen){postListTable.openListTopManagerForMemo()}},initializeSocialPlugin:function(){if(isThumbnailList||isMemologList){return}if(this._isSocialPluginLoaded()){return}var h=document.head?document.head:document.getElementsByTagName("head")[0];var f=document.createElement("script");var b=new Date();var a=b.getDate();var g=b.getMonth()+1;var j=b.getFullYear();if(a<10){a="0"+a}if(g<10){g="0"+g}f.src=(spiURL+"/js/release/socialplugin_euckr_v1.js?"+j+g+a);f.charset="euc-kr";h.appendChild(f)},_isSocialPluginLoaded:function(){return document.getElementById("socialPluginCustomTag")?true:false},checkClickPrevent:function(){utility.clickPrevent()},syncMenu:function(){if(typeof menu!="undefined"&&!userSelectMenu){menu.syncMenu(currentCategoryNo,categoryParentCategoryNo)}else{userSelectMenu=false}},loadTag:function(){if(postListTag){postListTag.loadTagInfo()}if(this.isParentExist()&&(parent.location.href.indexOf("PostPreview.nhn")>-1||parent.location.href.indexOf("MemologMemoPreview.nhn")>-1||parent.location.href.indexOf("PostPreview.naver")>-1||parent.location.href.indexOf("MemologMemoPreview.naver")>-1)){for(var b=0,a=aQueuePost.length;b<a;b++){var f=aQueuePost[b];postListTag.setTagList(f.logNo,f.tagNames,"resize",$("tagList_"+f.logNo))}}},isParentExist:function(){try{if(!parent||!parent.document||typeof parent=="undefined"){return false}}catch(a){return false}return true},loadTopList:function(){if(!isMemolog&&postListTable&&(userTopListOpen||(!(isThumbnailList||isThumbnailView)&&isTopListOpen))){postListTable._bPageFirstLoad=true;postListTable.toggleTopList()}},patchIE6FramesetScroll:function(){if($Agent().IE6&&typeof self.parent!=="undefined"){self.$$.getSingle("html").style.zoom=1;setTimeout(function(){self.$$.getSingle("html").style.zoom=""},100)}},ellipsisForPost:function(){var a=$("PostThumbnailAlbumViewArea");if(a){utility.ellipsisPage(a)}a=null},setAutoSourcingHtmlView:function(){var a,b;AutoSourcing.init("post_%id%",autoSourcingYn);b=aPostAutoSourcingHtmlView.length;for(a=1;a<b;a++){AutoSourcing.setString(a,aPostAutoSourcingHtmlView[a])}},bindFootnote:function(){var a=new nhn.husky.SE2View_Footnote();a.$ON_MSG_PAGE_LOADED(document.body)}});new PostExecutor();var WriteNewLcs=$Class({$init:function(){this._setEvent()},_setEvent:function(){$Fn(this._onLoad,this).attach(window,"load")},_onLoad:function(){var b="";if($("gdid")!=null){b=$("gdid").value}if(typeof gdidTag!="undefined"){b=gdidTag[1]}if(typeof a=="undefined"){var a=false}if(a){this._memologLcs(b)}else{this._mylogLcs(b)}},_mylogLcs:function(b){var a="blog";if(location.href.indexOf("/PostThumbnailView.nhn")>-1||location.href.indexOf("/PostView.nhn")>-1||location.href.indexOf("/PostList.nhn")>-1||location.href.indexOf("/PostThumbnailView.naver")>-1||location.href.indexOf("/PostView.naver")>-1||location.href.indexOf("/PostList.naver")>-1){if(isBlogMe){a+="_blogme"}if(isFromSection){a+="_home"}if(isFirstPage){a+="_first"}else{if(isFromSearch||isFromSection){a+="_next"}else{if(isThumbnailList){a+="_thumbnail_list"}else{if(isThumbnailView){a+="_thumbnail_post"}else{a+="_post"}}}}utility.writeNewLcs(b,"sti",a,isBlogMe,blogId);return}if(a=="blog"&&(typeof b!="undefined"&&b!="")){utility.writeNewLcs(b)}else{utility.writeNewLcsNonGdid()}},_memologLcs:function(a){if(a!=""){utility.writeNewLcs(a)}else{utility.writeNewLcsNonGdid()}}});new WriteNewLcs();nhn.music={openLyricPopup:function(a){window.open("http://music.naver.com/lyric/index.nhn?trackId="+a,"","width=400, height=300");return false}};var PostViewVisitRecordHandler=$Class({$init:function(b,a){this.activate();if(!this._isActivated){return}this._initPostValue(b,a);this._setEvents();this.timerStart()},_initPostValue:function(b,a){this._blogId=b;this._logNo=a},_setEvents:function(){$Fn(this.timerStop,this).attach(window,"beforeunload")},postChange:function(b,a){if(!this._isActivated){return}this.timerStop();this._initPostValue(b,a);this.timerStart()},timerStart:function(){if(!this._isActivated){return}this._startTime=+new Date},timerStop:function(){if(!this._isActivated){return}this._stopTime=+new Date;this._save()},_save:function(){var a={blogId:this._blogId,logNo:this._logNo,elapsed:this._stopTime-this._startTime};$Ajax("/PostViewVisitRecord.naver",{method:"post"}).request({stat:$Json(a).toString()})},activate:function(){if(location&&location.search&&location.search.indexOf("noRecord=true")>0){this._isActivated=false}else{this._isActivated=true}}});var PostController=$Class({$jsMVC:jsMVC.$Controller,$init:function(){this.setLayerAreaEvent();var a=paramLogNo;if(!a&&(pagePerPostCount==1&&nFirstLogNo)){a=nFirstLogNo}if(a){this.oPostViewVisitRecordHandler=new PostViewVisitRecordHandler(blogId,a)}},start:function(){this.mNoticeLayerRemove=jsMVC.getModel("postController","noticeLayerRemoveModel");this.vNoticeLayerPostTop=jsMVC.getView("postController","noticeLayerPostTopView");setTimeout($Fn(this.setAdditionalLayer,this).bind(this),600)},setLayerAreaEvent:function(){if($("noticeLayer")!=null){$Fn(this._onClick,this).attach($("noticeLayer"),"click")}},_onClick:function(g){var h=g.element;var f=$Element(h);var b=utility.getElement(h,"a")||h;var k=$Element(b);var j=utility.getParam(k.className()!=""?k.className():f.className());if(k.hasClass("_hideNoticeLayer")){this.removeNoticeLayer(j[0],j[1],j[2]);clickcr(b,"pro.shut","","",g.$value())}else{if(utility.getElement(h,"a")==null){var a=$Element("noticeLayer").queryAll("a");if(a==null){return}for(i=0;i<a.length;i++){if(a[i]!=null||a[i].href.indexOf("http")==0){a[i].click();break}}}else{clickcr(b,"pro.content","","",g.$value())}}},removeNoticeLayer:function(a,f,b){this.mNoticeLayerRemove.removeNoticeLayer(a,f,b)},onClickNaverMeSubscribe:function(){this.vDoMe2Day.doSubscribeClick()},doMouseOver:function(b){var f=b.element;var a=$Element(cssquery.getSingle("!a",f)?cssquery.getSingle("!a",f):f);if(a.hasClass("_clearDefaultText")){utility.clearInputElDefaultTxt(f)}if(a.hasClass("_returnFalse")){b.stop()}},doMouseOut:function(b){var f=b.element;var a=$Element(cssquery.getSingle("!a",f)?cssquery.getSingle("!a",f):f);if(a.hasClass("_clearDefaultText")){utility.clearInputElDefaultTxt(f)}if(a.hasClass("_returnFalse")){b.stop()}},setAdditionalLayer:function(){this.setBlogTeamBuddySuggestLayer();this.setBuddyRecommendLayer()},setBlogTeamBuddySuggestLayer:function(){try{if(!isAfterWrite||!blogOwner){return}new FirstWriterBlogTeamRecommendController()}catch(a){}},setBuddyRecommendLayer:function(){if(!isRecommendedBlog){return}var f="afp.dadd";var a="afp.dclose";var b="fromVisit";new BuddyRecommendController(f,a,$Element("buddyRecommendLayer"),b).start()}});var NoticeLayerRemoveModel=$Class({$init:function(){this.afterRemoveNoticeLayer=new jsMVC.Event()},removeNoticeLayer:function(a,f,b){var g=new $Ajax("/NoticeLayerRemoveAsync.naver",{method:"post",onload:$Fn(function(h){this.afterRemoveNoticeLayer.notify(h.json())},this).bind()});g.request({noticeSeq:a,noticeLayerViewType:f,endDate:b})}});var NoticeLayerPostTopView=$Class({$init:function(){this.mNoticeLayerRemove=jsMVC.getModel("postController","noticeLayerRemoveModel");this.mNoticeLayerRemove.afterRemoveNoticeLayer.attach($Fn(function(a){this.hideNoticeLayer(a)},this).bind())},hideNoticeLayer:function(){$Element($("noticeLayer")).hide();if($("noticelayercontents_bottom")){$Element($("noticelayercontents_bottom")).hide()}}});var NoticePostController=$Class({$jsMVC:jsMVC.$Controller,$init:function(){},start:function(){this.mNoticePost=jsMVC.getModel("noticePostController","noticePostModel");this.vNoticePost=jsMVC.getView("noticePostController","noticePostView")},setEvent:function(){$Fn(this.doClick,this).attach($("content-area"),"click")},doClick:function(f){var g=f.element;var b=utility.getElement(g,"a")||g;var a=$Element(cssquery.getSingle("!a",g)?cssquery.getSingle("!a",g):g);if(a.hasClass("_noticePost.remove")){this.doRemove(utility.getParam(b.className))}if(a.hasClass("_returnFalse")){f.stop()}},remove:function(b){try{this.mNoticePost.remove(b)}catch(a){utility.nvl_error(a,blogURL+"/NoticePostController.js/NoticePostController/remove",a.lineNumber);throw a}},add:function(b){try{this.mNoticePost.add(b)}catch(a){utility.nvl_error(a,blogURL+"/NoticePostController.js/NoticePostController/add",a.lineNumber);throw a}}});var NoticePostModel=$Class({htAPI:{remove:"/NoticePostRemoveAsync.naver",add:"/NoticePostAddAsync.naver",getCount:"/NoticePostCountAsync.naver"},$init:function(){this.removeView=new jsMVC.Event();this.addView=new jsMVC.Event()},remove:function(h){var f=h[0];var b=h[1];var a=h[2];if(a=="false"){if(!confirm("이 공지를 내리시겠습니까?")){return}}var j={blogId:f,logNo:b};var g=new $Ajax(this.htAPI.remove,{method:"POST",onerror:function(){},onload:$Fn(function(k){this.removeView.notify(k)},this).bind()});g.request(j)},add:function(h){var f=h[0];var b=h[1];var a=this._getCount(f);if(a>=maxNoticePostCount){alert("공지는 최대 "+maxNoticePostCount+"개까지 등록하실 수 있습니다.\n이 글을 공지로 등록하시려면 기존 공지를 내리고 등록해주세요.");return}var j={blogId:f,logNo:b};var g=new $Ajax(this.htAPI.add,{method:"POST",onerror:function(){},onload:$Fn(function(k){this.addView.notify(k)},this).bind()});g.request(j)},_getCount:function(b){var a=0;var g={blogId:b};var f=new $Ajax(this.htAPI.getCount,{method:"POST",onerror:function(){},onload:$Fn(function(h){a=h.json()},this).bind(),async:false});f.request(g);return a}});var NoticePostView=$Class({$init:function(){this.model=jsMVC.getModel("noticePostController","noticePostModel");this._remove();this._add()},_remove:function(){this.model.removeView.attach($Fn(function(b){var a=b.json();if(a==true){alert("이 글을 공지에서 내렸습니다.");location.reload(true)}else{alert("공지 내리기에 실패 하였습니다.")}},this).bind())},_add:function(){this.model.addView.attach($Fn(function(b){var a=b.json();if(a==true){alert("글이 공지로 등록되었습니다.");location.reload(true)}else{alert("공지 등록에 실패 하였습니다.")}},this).bind())}});var OpenGraphLinkVideoExecutor=function(a){var j=a;var h=function(){var k=$$("a._ogvideo");if(k==null||k.length==0){return}for(var l=0;l<k.length;l++){var m=k[l];$Fn(b).attach(m,"click")}};var b=function(o){var l=$Element(o.element).query("! a._ogvideo")||o.element;var k=$Element(l);var m=k.attr("_embedUrl");if(m==null){return}var q=g(m);if(q==null){return}var p=k.query("! div.thumb");if(p==null){return}o.stop();var n=$Element(p);if(n.hasClass("s_size")){n.removeClass("s_size");n.addClass("b_size")}q.execute(n,m,j)};var g=function(l){for(var k in f){if(!f.hasOwnProperty(k)){continue}var m=f[k];if(m.matching(l)){return m}}};var f={youtube:{execute:function(o,p){var n=o.width();var k=o.height();var q=$Element(o.query("img"));var m=q.attr("src");m=m.replace(/type=f[_\d]+/,"");var l=$Element("<div style='position:relative;width:100%'><img class='_hiddenimg' src='"+m+"type=f560_336' style='width:100%;visibility:hidden'/><iframe src='"+p+"?autoplay=1&autohide=1' frameborder='0' style='position:absolute;top:0;left:0;width:100%;height:100%' allowfullscreen/></div>");o.hide();o.after(l);$Fn(function(){if(j&&typeof j=="function"){j()}}).attach(l.query("._hiddenimg"),"load")},matching:function(k){return/https:\/\/www\.youtube\.com\/embed\/[^\/]+/.test(k)}}};return{init:h}};if(typeof nclk=="undefined"){nclk={}}if(typeof nclkMaxDepth=="undefined"){var nclkMaxDepth=8}if(typeof ccsrv=="undefined"){var ccsrv="cc.naver.com"}if(typeof nsc=="undefined"){var nsc="decide.me"}if(typeof g_pid=="undefined"){var g_pid=""}if(typeof g_sid=="undefined"){var g_sid=""}var nclkImg=[];nclk.version="1.2.14";nclk.getScrollBarWidth=function(){var f=document.createElement("p");f.style.width="200px";f.style.height="200px";var g=document.createElement("div");g.style.position="absolute";g.style.top="0px";g.style.left="0px";g.style.visibility="hidden";g.style.width="200px";g.style.height="150px";g.style.overflow="hidden";g.appendChild(f);document.body.appendChild(g);var b=f.offsetWidth;g.style.overflow="scroll";var a=f.offsetWidth;if(b==a){a=g.clientWidth}document.body.removeChild(g);return(b-a)};nclk.findPos=function(b){var f=curtop=0;try{if(b.offsetParent){do{f+=b.offsetLeft;curtop+=b.offsetTop}while(b=b.offsetParent)}else{if(b.x||b.y){if(b.x){f+=b.x}if(b.y){curtop+=b.y}}}}catch(a){}return[f,curtop]};nclk.windowSize=function(f){if(!f){f=window}var a=0;if(f.innerWidth){a=f.innerWidth;if(typeof(f.innerWidth)=="number"){var b=nclk.getScrollBarWidth();a=f.innerWidth-b}}else{if(document.documentElement&&document.documentElement.clientWidth){a=document.documentElement.clientWidth}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){a=document.body.clientWidth}}}return a};nclk.checkIframe=function(j){var f=document.URL;var h=j.parentNode;var a;var b;if(h==null||h==undefined){return false}while(1){if(h.nodeName.toLowerCase()=="#document"){if(h.parentWindow){a=h.parentWindow}else{a=h.defaultView}try{if(a.frameElement!=null&&a.frameElement!=undefined){if(a.frameElement.nodeName.toLowerCase()=="iframe"){b=a.frameElement.id;if(!b){return false}return b}else{return false}}else{return false}}catch(g){return false}}else{h=h.parentNode;if(h==null||h==undefined){return false}}}};nclk.absPath=function(a){var f=window.location;var g=f.href;var b=f.protocol+"//"+f.host;if(a.charAt(0)=="/"){if(a.charAt(1)=="/"){return f.protocol+a}else{return b+a}}if(/^\.\//.test(a)){a=a.substring(2)}while(/^\.\./.test(a)){if(b!=g){g=g.substring(0,g.lastIndexOf("/"))}a=a.substring(3)}if(b!=g){if(a.charAt(0)!="?"&&a.charAt(0)!="#"){g=g.substring(0,g.lastIndexOf("/"))}}if(a.charAt(0)=="/"){return g+a}else{if(a.charAt(0)=="?"){g=g.split("?")[0];return g+a}else{if(a.charAt(0)=="#"){g=g.split("#")[0];return g+a}else{return g+"/"+a}}}};function clickcr(g,J,v,F,G,C,R){if(arguments.length==1){if(typeof nclk.generateCC!="undefined"){nclk.generateCC(arguments[0])}return}var A="cc";var H=navigator.userAgent.toLowerCase();var l=(H.indexOf("safari")!=-1?true:false);var E=/msie/.test(H)&&!/opera/.test(H);var m="https:";var a=ccsrv.substring(ccsrv.indexOf(".")+1);var u=window.event?window.event:G;var t=-1;var r=-1;var q=-1;var p=-1;var U,f,j;var s,k,n;var O,L,K,N,B,D,z;var Q;var I=0;if(!C){C="0"}else{C=String(C)}if(!R){R=""}if(C.indexOf("n")==0){I=0}else{if(window.g_ssc!=undefined&&window.g_query!=undefined){I=1}else{I=0}}try{N=nclk.windowSize(window);j=nclk.checkIframe(g);if(j){var w=nclk.findPos(document.getElementById(j));if(u.clientX&&u.clientX!=undefined){U=document.body;if(U.clientLeft&&U.clientTop){ifrSx=u.clientX-U.clientLeft;ifrSy=u.clientY-U.clientTop}else{ifrSx=u.clientX;ifrSy=u.clientY}}q=w[0]+ifrSx;p=w[1]+ifrSy;if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){U=document.body;t=q-U.scrollLeft;r=p-U.scrollTop}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;t=q-f.scrollLeft;r=p-f.scrollTop}else{t=q;r=p}}}else{if(u.clientX&&u.clientX!=undefined){U=document.body;if(U.clientLeft&&U.clientTop){t=u.clientX-U.clientLeft;r=u.clientY-U.clientTop}else{t=u.clientX;r=u.clientY}}if(document.body&&(document.body.scrollTop||document.body.scrollLeft)){q=document.body.scrollLeft+(t<0?0:t);p=document.body.scrollTop+(r<0?0:r)}else{if(document.documentElement&&(document.documentElement.scrollTop||document.documentElement.scrollLeft)){f=document.documentElement;if(f.scrollLeft!=undefined){q=f.scrollLeft+(t<0?0:t)}if(f.scrollTop!=undefined){p=f.scrollTop+(r<0?0:r)}}else{q=(t<0?0:t);p=(r<0?0:r)}}if(u.pageX){q=u.pageX}if(u.pageY){p=u.pageY}}}catch(S){}if(J==""||typeof J=="undefined"){return}if(C.indexOf("1")!=-1){s=0}else{if(g.href){B=g.nodeName.toLowerCase();D=g.href.toLowerCase();if((g.target&&g.target!="_self"&&g.target!="_top"&&g.target!="_parent")||(D.indexOf("javascript:")!=-1)||(g.getAttribute("href",2)&&g.getAttribute("href",2).charAt(0)=="#")||(D.indexOf("#")!=-1&&(D.substr(0,D.indexOf("#"))==document.URL))||B.toLowerCase()=="img"||E&&window.location.host.indexOf(a)==-1){s=0}else{s=1}}else{s=0}}if(g.href&&g.href.indexOf(m+"//"+ccsrv)==0){k=g.href}else{k=m+"//"+ccsrv+"/"+A+"?a="+J+"&r="+F+"&i="+v;k+="&bw="+N+"&px="+q+"&py="+p+"&sx="+t+"&sy="+r+"&m="+s;if(I==0){k+="&nsc="+nsc}else{if(I==1){k+="&ssc="+g_ssc+"&q="+encodeURIComponent(g_query)+"&s="+g_sid+"&p="+g_pid}}if(R){k+="&g="+R}if(D&&D.indexOf(m+"//"+ccsrv)!=0&&B.toLowerCase()!="img"){var P=g.href;if(g.outerHTML&&!window.XMLHttpRequest){P=(/\shref=\"([^\"]+)\"/i.test(g.outerHTML)&&RegExp.$1).replace(/\\/g,"\\\\").replace(/%([A-Z0-9]{2})/ig,"\\$1");(d=document.createElement("div")).innerHTML=P;P=d.innerText.replace(/\\([A-Z0-9]{2})/gi,"%$1").replace(/\\\\/g,"\\")}D=P.toLowerCase();if(D.indexOf("http:")==0||D.indexOf("https:")==0||D.indexOf("javascript:")==0){k+="&u="+encodeURIComponent(P)}else{z=nclk.absPath(P);k+="&u="+encodeURIComponent(z)}}else{if(g.href){if(g.href.length>0){k+="&u="+encodeURIComponent(g.href)}else{k+="&u=about%3Ablank"}}else{k+="&u=about%3Ablank"}}}if(s==1){Q=g.innerHTML;g.href=k;if(g.innerHTML!=Q){g.innerHTML=Q}}else{if(document.images){var M=new Date().getTime();k+="&time="+M;if(l&&!g.href){var T=c=new Date();while((T.getTime()-c.getTime())<100){T=new Date()}var O=new Image();nclkImg.push(O);O.src=k}else{var O=new Image();nclkImg.push(O);O.src=k}}}return true}var APIS={TOKEN_FORMAT:"/v1/react/token",TOKEN_QUERY_FORMAT:"?pool=blog&isDuplication={0}",LIKE_FORMAT:"/v1/services/{0}/contents/{1}",LIKE_QUERY_FORMAT:"?pool=blog&_method={0}&reactionType={1}&displayId={2}&isDuplication={3}&categoryId={4}&guestToken={5}&timestamp={6}",SEARCH_FORMAT:"/v1/search/contents",SEARCH_QUERY_FORMAT:"?pool=blog&q={0}[{1}]&isDuplication={2}",BULK_SIZE:10};var NaverVideoLikeClient=function(a,b,f){this._serviceConfig=a;this._extHttpGetJsonp=b;this._extAuthFailure=f;this._contentIds=JSON.parse(this._serviceConfig.contentIds);this._serviceId=this._serviceConfig.serviceId;this._isDuplication=this._serviceConfig.isDuplication;this._reactionType=this._serviceConfig.reactionType;this._displayId=this._serviceConfig.displayId;this._categoryId=this._serviceConfig.categoryId;this._partnerId=this._serviceConfig.partnerId;this._providerId=this._serviceConfig.providerId;this._lookupDataMap={};this._instanceUpdatePlayerMap=[];this._apigw="";if(this._formatString){this._apigw=this._formatString(a.apiGwUrl,this._partnerId,this._providerId)}};NaverVideoLikeClient.prototype._formatString=function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/{(\d+)}/g,function(f,g){return typeof a[g]!="undefined"?a[g]:f})};NaverVideoLikeClient.prototype._sendRequestGet=function(f,h,g){var b=this;var a=g;if(this._extHttpGetJsonp&&typeof this._extHttpGetJsonp==="function"){this._extHttpGetJsonp(f+h,g,function(j){if(j&&j.statusCode===401){b._extAuthFailure(j.message)}else{alert(j.message)}})}else{if(a&&typeof a==="function"){a&&a({error:"Request failed - 0x0002"})}}};NaverVideoLikeClient.prototype._getDivList=function(a,h){var j=[];var g=[];var f=h||20;for(var b in a){if(a.hasOwnProperty(b)){g.push(a[b])}if(g.length>=f){j.push(g);g=[]}}if(g.length>0){j.push(g);g=[]}return j};NaverVideoLikeClient.prototype._parseLookupData=function(g){var b=g.reactions;if(b&&this._isArray(b)){for(var a=0;a<b.length;a++){var f=b[a];if(f&&f.reactionType==="like"){return{contentsId:g.contentsId,isReacted:f.isReacted,count:f.count}}}}return{contentsId:g.contentsId,isReacted:false,count:0}};NaverVideoLikeClient.prototype._getVideoIdInContentsId=function(b){if(!b||typeof b!=="string"){return""}var a=b.split("_").reverse();return a[0]};NaverVideoLikeClient.prototype._isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};NaverVideoLikeClient.prototype.updateLookupTable=function(){var a=this;this.reqGetLookupLikeIt(function(j){if(!j.error&&a._isArray(j.contents)){var f=j.contents;for(var h=0;h<f.length;h++){var g=f[h];var n=a._parseLookupData(g);var l=a._getVideoIdInContentsId(n.contentsId);if(l){a.addLookupData(l,n);for(var k=0;k<a._instanceUpdatePlayerMap.length;k++){var m=a._instanceUpdatePlayerMap[k];if(m&&m.vid===l){var b={isLike:n.isReacted,count:n.count};data.updatePlayer(b)}}}}}})};NaverVideoLikeClient.prototype.reqGetLookupLikeIt=function(m){var l=this._serviceId;var k=this._isDuplication;var f=this._contentIds;if(f!=null&&typeof f==="object"){var b=(this._apigw+APIS.SEARCH_FORMAT);var j=this._getDivList(f,APIS.BULK_SIZE);for(var h=0;h<j.length;h++){var g=j[h];var a=this._formatString(APIS.SEARCH_QUERY_FORMAT,l,g,k);this._sendRequestGet(b,a,m)}}else{if(m&&typeof m==="function"){m({error:"Request failed - 0x0001"})}}};NaverVideoLikeClient.prototype.reqGetGuestToken=function(f){var a=(this._apigw+APIS.TOKEN_FORMAT);var b=this._formatString(APIS.TOKEN_QUERY_FORMAT,this._isDuplication);this._sendRequestGet(a,b,f)};NaverVideoLikeClient.prototype._sendLike=function(k,f,h,g,l){var m=g.guestToken;var j=g.timestamp;var b=(this._apigw+this._formatString(APIS.LIKE_FORMAT,this._serviceId,f));var a=this._formatString(APIS.LIKE_QUERY_FORMAT,h?"POST":"DELETE",this._reactionType,this._displayId,this._isDuplication,this._categoryId,m,j);var n=l;this._sendRequestGet(b,a,function(p){var q=p.isReacted;var o=p.count;n&&n(q,o)})};NaverVideoLikeClient.prototype.updatePlayer=function(l){if(!l){return}var a=l.vid;var k=l.data;var j=k.isLike;var h=k.clicked;var f=this._contentIds[a];if(h){this.reqGetLike(k.vid,f,j,function(o,n){var m={isLike:o,count:n};k.updatePlayer(m)})}else{var b=this._lookupDataMap[a];if(!b){this._instanceUpdatePlayerMap.push({vid:k});return}var g={isLike:b.isReacted,count:b.count};k.updatePlayer(g)}};NaverVideoLikeClient.prototype.reqGetLike=function(a,g,j,l){var f=this;var h=!j;var b=a;var k=g;this.reqGetGuestToken(function(m){if(m&&!m.error){setTimeout(function(){f._sendLike(b,k,h,m,l)},0)}else{if(l&&typeof l==="function"){l({error:"Request failed  - 0x0004"})}}})};NaverVideoLikeClient.prototype.addLookupData=function(a,b){this._lookupDataMap[a]=b};NaverVideoLikeClient.prototype.hasLookupData=function(a){return this._lookupDataMap[a]?true:false};NaverVideoLikeClient.prototype.getLookupDataByVid=function(a){return this._lookupDataMap[a]};NaverVideoLikeClient.prototype.getLookupAllData=function(a){return this._lookupDataMap};NaverVideoLikeClient.prototype.hasCookieValue=function(a){var b=document.cookie.match("(^|;) ?"+a+"=([^;]*)(;|$)");return(b&&b[2])};var initRabbit=function(o){if(typeof SmartEditorViewer==="undefined"){return}var k=new SmartEditorViewer();var a=o.deviceType;var l=o.afterLoad.eventByType||{};var b=o.imageThumbnailType||"w966";var m=function(p){return !isNaN(parseFloat(p))&&isFinite(p)};var n=m(o.fontSize)?parseFloat(o.fontSize):0;var f={map:{isStop:false,callback:function(q,p){}},img:{isStop:true,callback:function(p){}},sticker:{isStop:true,callback:function(p){}},file:{isStop:true,callback:function(p){}}};var j=o.afterLoad.linkResolver||{};for(var g in j){if(j.hasOwnProperty(j[g])){continue}f[g]=j[g]}var h=null;if(o.likeItVideoIdListJson){h=JSON.parse(o.likeItVideoIdListJson)}k.bootstrap({SERVICE_ID:"blog",DEVICE_TYPE:a||"desktop",SERVICE_INAPP:false,VIEWER_TYPE:"normal",lang:"ko",fBeforeLoad:function(){},fAfterLoad:function(){for(var p in l){if(l.hasOwnProperty(l[p])){continue}k.onEventByType(p,l[p])}k.onLinkResolver(f);if(o.afterLoadComplete){o.afterLoadComplete()}},RUN_ENV_TYPE:"real",MODULE_LOADING_TYPE:"normal",MODULE_INJECTION_DATA:{VIDEO:{ALLOW_SHARE_BUTTON_ALL:{hasLink:false}}},IMAGE_THUMBNAIL_TYPE:b,video:{playerCDN:o.videoPlayerLibUrl,serviceId:{dev:20002,stage:2,real:2},likeit:{external:o.likeItVideoEnable||false,enabledList:h},autoPlay:{vid:searchVid,options:{autoPlay:videoAutoPlay,mutePlay:"always"}},onInitPlayer:function(p){o.videoInitializeCallback(p)}}});if(typeof n!=="undefined"&&n!=-1){k.changeDocFontSize(n)}return k};$Fn(function(){var k=(function(){var m=typeof window.aPostVideoInfo=="undefined"?[]:window.aPostVideoInfo;var n=function(){var t={ALLOW_SHARE_BUTTONS:[]};for(var q=1;q<m.length;q++){if(!m[q]){continue}var s=m[q];for(var p=0;p<s.length;p++){var r=s[p];t.ALLOW_SHARE_BUTTONS.push(r)}}return t};var o={};o.VIDEO=n();return o})();if(typeof NaverVideoLikeClient!=="undefined"&&likeItVideoEnable){window.naverVideoLikeClient=new NaverVideoLikeClient({serviceId:"blog",categoryId:"video",isDuplication:false,reactionType:"like",displayId:"BLOG",partnerId:"blogfe",providerId:"like",contentIds:likeItVideoContentsIdMapJson,apiGwUrl:apiGwUrl+"{0}/{1}"},function(o,p,n){var m=this;new $Ajax(o,{type:"jsonp",method:"get",jsonp_charset:"utf-8",onload:function(q){if(q&&q.json()&&q.json().statusCode&&q.json().statusCode!==200){n(q.json())}else{p.call(m,q.json())}},callbackname:"callback"}).request({suppress_response_codes:true,})},function(n){var m=window.confirm(n);if(m){window.location.href="https://nid.naver.com/nidlogin.login?mode=form&url="+encodeURIComponent(window.location.href)}});naverVideoLikeClient.updateLookupTable()}var j=(function(){var m=function(n){if(naverVideoLikeClient===null||typeof naverVideoLikeClient==="undefined"){return}naverVideoLikeClient.updatePlayer(n)};return{videoResolver:m}})();var b=(function(){var o=typeof window.aPostFiles=="undefined"?[]:window.aPostFiles;var y=null;var r=function(B){var A=B.split("/");return A[5]};var x=function(){if(y!=null){return y}y={};for(var B=1;B<o.length;B++){var C=o[B];for(var A=0;A<C.length;A++){var E=C[A];var D=r(E.encodedAttachFileUrl);y[D]=E}}return y};var m=function(A){return A.punishType!=0};var s=function(A){return A.ahfLicenseYn=="true"};var p=function(A){return A.maliciousCodeYn=="true"};var v=function(A){var B=true;var C=null;if(!A){B=false;C=function(){}}else{if(m(A)){B=false;C=function(){postView.showBlockAlertLayer(null,A.encodedAttachFileName,A.encodedAttachFileUrl,-1,A.punishType)}}else{if(s(A)){B=false;C=function(){postView.showAhfLicenseAlertLayer(null,A.encodedAttachFileName,A.encodedAttachFileUrl,-1)}}else{if(p(A)){B=false;C=function(){postView.showMalwareAlertLayer(null,A.encodedAttachFileName,A.encodedAttachFileUrl,-1)}}}}}return{isNormal:B,showAlert:C}};var q=function(A){if(typeof A=="undefind"||!A){return null}var B=x();var C=r(A);return B[C]};var w=function(A){n(A,function(B,C){if(typeof oLayoutExecutor=="undefined"){C.stop();return}var D=B.encodedAttachFileUrl;if(typeof blogOwner!="undefined"&&blogOwner===true){D=D.replace("naver.net","naver.com")}oLayoutExecutor.openNdrive(D,B.encodedAttachFileNameByUTF8,Number(B.attachFileSize.replace(/,/g,"")))})};var z=function(A){u(A,function(B,C){window.open(B)})};var u=function(C,E){var D=C.event;var B=q(C.link);var A=v(B);if(!A.isNormal){D.preventDefault();A.showAlert();return}E(C.link,D)};var n=function(C,E){var D=C.event;var B=q(C.link);var A=v(B);if(!A.isNormal){D.preventDefault();A.showAlert();return}E(B,D)};var t=function(A){if(A.type=="cloud"){w(A)}else{z(A)}};return{onClickDownload:t}})();var a=(function(){var m=function(p,t){var s=p.link;var u=t.target;if(p.linkUse=="true"&&s){window.open(s);return}var r=$Element(u);var o=$Element(r.query("!div._post_wrap"));if(o){var n=utility.getParam(o.attr("className"))[0];var q=gdidTag[n]}popview2(p.src,q)};return{open:m}})();var h=(function(){var m=function(n){window.open(gsGfMarketUrl+"/sticker/detail/code/"+n.packCode,"_blank")};return{openGfMarket:m}})();var l=(function(){var n=function(q,t){clickcr("","pst.locationmap","","","");var s=null;var p=q.placeId||q.locationId;var u=q.title||q.name;var r=encodeURIComponent(u);var o=q.address||"";switch(q.searchEngine){case"naver":case"NAVER":if(!q.searchType||!p){s="https://map.naver.com/v5/?zoom=14&type=0&title="+r+"&lat="+q.latitude+"&lng="+q.longitude}else{s="https://map.naver.com/v5/entry/place/"+p}break;case"google":case"GOOGLE":if(o.indexOf("일본")!=-1){p=m(p)}s="https://www.google.com/maps/search/?api=1&query="+r+"&query_place_id="+p;break}if(s!=null){window.open(s,"_blank")}t.preventDefault()};var m=function(o){var p=o;new $Ajax("/ReplacementPlaceIdAsync.naver",{method:"get",onload:$Fn(function(r){var q=r.json();if(q.status==="OK"){p=q.result.place_id}},this).bind(),async:false}).request({placeId:o});return p};return{toMap:n}})();var g=(function(){var m=function(o,p){if(!o.link){return}var n=o.link};return{openLink:m}})();var f=(function(){var m=function(n,o){if(imageLazyLoadVisible!=undefined&&imageLazyLoadVisible.check!=undefined){imageLazyLoadVisible.check()}};return{loadImage:m}})();if(initRabbit){setTimeout(function(){initRabbit({deviceType:"desktop",isInApp:false,imageThumbnailType:"w966",fontSize:-1,beforeLoad:{},videoPlayerLibUrl:videoPlayerUrl,afterLoad:{eventByType:{v2_file:{onClickDownload:b.onClickDownload},v1_file:{onClickDownload:b.onClickDownload},v1_video:{onLoadPlayer:j.videoResolver,onClickLikeIt:j.videoResolver},v2_video:{onLoadPlayer:j.videoResolver,onClickLikeIt:j.videoResolver},v2_imageGroup:{onChangePosition:f.loadImage}},linkResolver:{img:{callback:a.open},sticker:{callback:h.openGfMarket},map:{callback:l.toMap},link:{callback:g.openLink}}},afterLoadComplete:function(){if(rproductId!==undefined&&rproductId!==""&&focusing){utility.gotoElWithMargin("blog_product_"+rproductId,{x:0,y:-50});if(typeof productController==="undefined"||productController===null){return}productController.showCouponLayer(paramLogNo,rproductId)}else{if(typeof searchVid!=="undefined"&&searchVid!==""&&focusing){focusing.gotoTagForPost()}}videoPlayerController.load()},likeItVideoEnable:likeItVideoEnable,likeItVideoIdListJson:likeItVideoIdListJson,moduleInjectionData:k,videoInitializeCallback:function(m){if(aPostVideoInfo==null){return}aPostVideoInfo.forEach(function(n){n.forEach(function(p){if(p.vid===m.vid){var o=m.getPlayerConfig();o.canScrap=p.hasLink;m.setPlayerConfig(o)}})})}})},0)}}).attach(window,"load");$Fn(function(){function b(g){var f=$Element(g);return f.hasClass("se_docSourceWriter")||f.hasClass("se_docSourceTitle")||f.hasClass("se_anniversary_box")}function a(f){if(!f.href){return}if(!b(f)){return}if(!f.target){f.target="_top"}}$A($$(".se_component a")).forEach(a)}).attach(window,"load");jsMVC.setController("postController",PostController);jsMVC.setModel("postController","noticeLayerRemoveModel",NoticeLayerRemoveModel);jsMVC.setView("postController","noticeLayerPostTopView",NoticeLayerPostTopView);var postController=jsMVC.getController("postController");postController.start();jsMVC.setController("noticePostController",NoticePostController);jsMVC.setModel("noticePostController","noticePostModel",NoticePostModel);jsMVC.setView("noticePostController","noticePostView",NoticePostView);var noticePostController=jsMVC.getController("noticePostController");noticePostController.start();$Fn(function(){OpenGraphLinkVideoExecutor().init()}).attach(window,"load");var ParamUtil=$Class({_rxParameter:/_param\((.*)\)/,getParam:function(a){if(a&&typeof a=="string"){var b=a.match(this._rxParameter);if(b&&b[0]&&b[1]){return b[1].split("|")}}return null}});var paramUtil=new ParamUtil();var LocalStorage=$Class({$init:function(b,a){if(typeof b=="undefined"||b==null){throw new Error("LocalStorage must defined key")}this.storage=this._initStorage();this.key=b;this.size=(typeof(a)=="undefined"||a==null||a<0)?0:a},readSet:function(){var a=this.getItem();if(typeof(a)=="undefined"||a==null){a=[]}return a},addSet:function(b){var a=this.readSet();if(this.size>0&&a.length>=this.size){a.shift()}if(a.indexOf(b)<0){a.push(b)}this.setItem(a)},getItem:function(){var a=this.storage.getItem(this.key);if(typeof(JSON)=="object"&&typeof(JSON.parse)=="function"){return JSON.parse(a)}else{return jindo.$Json(a).toObject()}},setItem:function(b){var a;if(typeof(JSON)=="object"&&typeof(JSON.stringify)=="function"){a=JSON.stringify(b)}else{a=jindo.$Json(b).toString()}this.storage.setItem(this.key,a)},removeItem:function(){this.storage.removeItem(this.key)},_initStorage:function(){if(this._isStorageAvailable(window.localStorage)){return window.localStorage}else{if(this._isStorageAvailable(window.sessionStorage)){return window.sessionStorage}else{return new FakeStorage()}}},_isStorageAvailable:function(g){var a="___persist___";if(!g){return}var b="__tmp__"+a;try{g.setItem(b,a)}catch(f){return false}return g.getItem(b)===a}});var FakeStorage=$Class({$init:function(){this.fakeStorage={}},getItem:function(a){return this.fakeStorage[a]||null},setItem:function(a,b){return this.fakeStorage[a]=b},removeItem:function(a){if(this.fakeStorage[a]){delete this.fakeStorage[a]}}});var SaveScrollStatusHandler=$Class({$init:function(a){this.localStorage=new LocalStorage("scroll.save.status",2);this.statusHandlers=a},moveSavedScroll:function(){if(this.localStorage.readSet().length!==0){var f=this.localStorage.getItem()[0];var b=this.statusHandlers;for(var g in b){var a=f[g];b[g].applyStatus(a)}this.localStorage.removeItem();return true}return false},saveScrollAndReload:function(){var b={};var a=this.statusHandlers;this.localStorage.removeItem();for(var f in a){b[f]=a[f].getStatus()}this.localStorage.addSet(b);location.reload()}});var saveScrollStatusHandler=new SaveScrollStatusHandler({scroll:{getStatus:function(){return $Document(document).scrollPosition()},applyStatus:function(a){window.scrollTo(a.left,a.top)}},sideCategory:{getStatus:function(){if(typeof floatingBarArea=="undefined"){return false}return floatingBarArea.isSideCategoryAreaOpen()},applyStatus:function(a){if(a){floatingBarArea._toggleFloatingBar();floatingBarArea._toggleSideAreaWithDataLoadIfNeed()}}}});var BuddyRecommendController=$Class({FROM_CATEGORY:"fromCategory",FROM_VISIT:"fromVisit",FROM_COMMENT:"fromComment",$init:function(g,b,a,f){this.addNclick=g;this.cancelNclick=b;this.elLayer=a;this.fromType=f;this.buddyRecommendService=new BuddyRecommendService()},start:function(){if(this.buddyRecommendService.isNotBuddyRecommendId(blogId)){return}this._setEvents();this._showLayerWithLog(this.fromType)},_setEvents:function(){$Fn(this._onClick,this).attach(this.elLayer,"click")},_onClick:function(b){var a=$Element(b.element);if(a.hasClass("_buddyRecommendCloseLayer")){this._cancelRecommend(b);return}if(a.hasClass("_addBuddy")){this._addBuddy(b);return}},_cancelRecommend:function(a){clickcr("",this.cancelNclick,"","");this._saveStatusAndHideLayer(a)},_saveStatusAndHideLayer:function(a){this.buddyRecommendService.addNotBuddyRecommendId(blogId);$(this.elLayer).hide();a.stop()},_addBuddy:function(a){clickcr("",this.addNclick,"","");if(!isLoggedIn){var f=window.open("","addBuddy","width=420,height=455,scrollbars=yes");if(f!=null){var b=$("addBuddyPopupForm");if(b==null){b=document.createElement("form");b.id="addBuddyPopupForm";document.body.appendChild(b)}b.target="addBuddy";b.method="post";b.action=blogURL+"/BuddyAdd.naver?blogId="+blogId;b.submit();this.elLayer.hide()}}else{this._addBuddyForLoginUser(a)}},_addBuddyForLoginUser:function(b){var a=$Element(b.element);var g=paramUtil.getParam(a&&a.className()!=""?a.className():b.className);var f=g[0];var h=new $Ajax("/BuddyAddAsync.naver",{method:"POST",onload:$Fn(function(j){var k=j.json();if(k.isSuccess==true){this._changeBuddyAddButton(a);return}else{if(k.errorCode==3){alert("상대방이 이웃 관계를 제한하여, 이웃/서로이웃을 \n신청하실 수 없습니다.");return}if(k.errorCode==4){alert("이미 서로이웃 블로그에 추가되어 있습니다.");return}if(k.errorCode==5){alert("이미 이웃 블로그에 추가되어 있습니다.");return}if(k.errorCode==10){alert("죄송합니다. 이웃수 5000명 초과로 이웃을 더 맺을 수 없습니다.");return}if(k.errorCode==11){alert("죄송합니다. 이웃수 5000명 초과로 이웃을 더 맺을 수 없습니다.");return}if(k.errorCode==12){alert("서로이웃 신청 진행중입니다.");return}if(k.errorCode==13){alert("선택하신 그룹의 이웃수 초과(500명)로 추가하실 수 없습니다. 다른 그룹을 선택해주세요.");return}if(k.errorCode==14){alert("나의 블랙리스트에 등록된 블로거 입니다.");return}if(k.errorCode==15){alert("상대방이 이웃 관계를 제한하여, 이웃/서로이웃을 \n신청하실 수 없습니다.");return}if(k.errorCode==19){alert("상대방이 이웃 관계를 제한하여, 이웃/서로이웃을 \n신청하실 수 없습니다.");return}alert("이웃추가 오류가 발생하였습니다.\n 다시 시도 해주세요.")}},this).bind(),onerror:function(){alert("이웃추가 오류가 발생하였습니다.\n 다시 시도 해주세요.")}});h.request({blogId:f})},_changeBuddyAddButton:function(a){var b=a.parent();b.remove(a);b.appendHTML('<span class="btn_add_buddy" id="addDone"><span class="ico"></span>추가완료</span>')},_showLayerWithLog:function(a){this.elLayer.show();var b=new $Ajax("/BuddyRecommendExposeCount.naver",{method:"GET",onload:$Fn(function(f){var g=f.json()},this).bind(),onerror:function(){}});b.request({fromType:a,blogId:blogId})}});var BuddyRecommendService=$Class({$init:function(){this.storage=new LocalStorage("no.buddy.recommend.id",10000)},addNotBuddyRecommendId:function(a){if(a==null||a==""){return}this.storage.addSet(a)},isNotBuddyRecommendId:function(a){if(a==null||a==""){return true}var b=this.storage.readSet();return b.indexOf(a)>=0}});var FirstWriterBlogTeamRecommendController=$Class({$init:function(){this._showLayerIfNecessary()},_setEvents:function(){$Fn(this._cancelRecommend,this).attach($$("._closeLayer"),"click");$Fn(this._addBuddy,this).attach($$("._addBuddy"),"click")},_showLayerIfNecessary:function(){var f="/FirstWriterRecommendBuddyCheckAsync.naver";var b={blogId:blogId,buddyId:"blogpeople"};var a=this;var g=$Ajax(f,{onload:function(j){var h=j.json();if(h&&h.isShowLayer){a._showLayer(h.buddyProfileImage)}}});g.request(b)},_showLayer:function(b){var f=$Template("tpl_recommend_buddy");var a=$Element("buddyRecommendLayer");if(!a){return}a.html(f.process({recommendTitle:"첫 글, 축하드려요! 이웃도 한 번 맺어볼까요?",profileImageUrl:b,blogId:"blogpeople",nickname:"Blog팀",blogName:"블로그팀 공식블로그"}));a.show();this._setEvents()},_hideLayer:function(){$Element("buddyRecommendLayer").hide()},_cancelRecommend:function(a){clickcr("","bap.close","","");this._hideLayer();a.stop()},_addBuddy:function(a){clickcr("","bap.add","","");var f=window.open("","addBuddy","width=420,height=455,scrollbars=yes");if(f!=null){var b=$("addBuddyPopupForm");if(b==null){b=document.createElement("form");b.id="addBuddyPopupForm";document.body.appendChild(b)}b.target="addBuddy";b.method="post";b.action=blogURL+"/BuddyAdd.naver?blogId=blogpeople";b.submit()}this._hideLayer();a.stop()}});var NaverTranslationHandler=$Class({$init:function(){},goTrans:function(a){if(typeof NaverTranslator!="undefined"&&typeof NaverTranslator.TransNavigation!="undefined"){NaverTranslator.TransNavigation.open();return}this._initScript(a)},_initScript:function(o){var g="post-view"+o;if($$.getSingle(".__se_component_area")){g=".se_component_wrap.sect_dsc.__se_component_area"}else{if($$.getSingle(".se-main-container")){g=".se-module-text"}}var l=$$.getSingle("._transPosition");var m=0;var f=0;if(l){var p=$Element(l);m=p.offset().top+30;f=p.offset().left}var a="position:absolute; top:"+m+"px; left:"+f+"px; z-index: 9999";var h={service_code:"naver_blog_pc",source_language:"",target_language:"",target_contents:g,original_box:"on",navigation_box:"on",navigation_skin:"pc01",navigation_style:a,repeat_translate:"off",auto_start:"off",toggle_button:""};var k=window.location.href.indexOf("https")==0?"https":"http";var b=document.createElement("script");b.id="NaverTranslator-seeds";b.charset="utf-8",b.setAttribute("src",k+"://app.translate.naver.net/js/NaverTranslator.js?svc_code="+h.service_code+"&src_lang="+h.source_language+"&tar_lang="+h.target_language+"&tar_cont="+h.target_contents+"&open_layer="+h.original_box+"&navigation_box="+h.navigation_box+"&navigation_skin="+h.navigation_skin+"&navigation_style="+h.navigation_style+"&repeat="+h.repeat_translate+"&auto_start="+h.auto_start+"&toggle_button="+h.toggle_button+"&"+Date.parse(new Date));document.body.appendChild(b)}});var oNaverTranslationHandler=new NaverTranslationHandler();if(typeof nhn=="undefined"){nhn={}}postCommon.PhotoImageViewer=$Class({$init:function(){this._ref=[];this.tid=null;this.tidTimeout=null;this.opt={imageMax:[964,964],marginTop:"50px",target:parent,ndsurl:"",popupurl:"http://alpha.common.photo.naver.com/storyphoto",allowRightMouseClick:true};var b=arguments[0]||{};for(var a in b){this.opt[a]=b[a]}this.elViewer=null;this.welViewer=null;this.elViewerTopFrame=null;this.welTabNaviFrame=null;this.welPhotoCountFrame=null;this.elCountCurrentFrame=null;this.elCountTotalFrame=null;this.elNdsIframe=null;this.elViewerCloseButton=null;this.elViewerPrevButton=null;this.elViewerNextButton=null;this.elViewerOriginalButton=null;this.oTid_initialFunction=null;this.oTid_imageLoadFunction=null;this._bDragUsed=false;this._bPrevButton=this._bNextButton=true;this._count=0;this._no=0;this._imageWidthMin=0;this._imageHeightMin=0;this._orginalViewFlag=false;this._mousewheel_lock=false;this._oImageWidthMin={single:170,more:350};this.welImageAnchor=null;this._oImageHeightMin={single:100,more:100};this._nObj={};this._marginTop=this.opt.marginTop;this.getCursorStyle=function(){return $Agent().navigator().IE==true?"hand":"pointer"};this.appendViewerDiv();this.getButtonDiv();this.appendDragging();this.wfKeydown=$Fn(this._onKeyDown,this);this._setEvent()},setPreButtonStatus:function(){if(this._bPrevButton==true){this.setButtonStyleChangeBackground2(this.elViewerPrevButton,"btn_left.gif")}else{this.setButtonStyleChangeBackground2(this.elViewerPrevButton,"btn_left_off.gif")}},setNextButtonStatus:function(){if(this._bNextButton==true){this.setButtonStyleChangeBackground2(this.elViewerNextButton,"btn_right.gif")}else{this.setButtonStyleChangeBackground2(this.elViewerNextButton,"btn_right_off.gif")}},setButtonStyleChangeBackground:function(b,a){b.style.background="url('https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/"+a+"') no-repeat"},setButtonStyleChangeBackground2:function(b,a){b.style.background="url('https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/"+a+"') no-repeat"},_setEvent:function(){$Fn(this._onMouseWheel,this).attach(this.elViewer,"mousewheel");$Fn(this._onMouseOverOut,this).attach(this.elViewer,"mouseover");$Fn(this._onMouseOverOut,this).attach(this.elViewer,"mouseout");$Fn(this._onMouseDown,this).attach(this.elViewer,"mousedown");$Fn(this._onMouseUp,this).attach(this.elViewer,"mouseup");$Fn(this._onClick,this).attach(this.elViewer,"click");$Fn($Fn(this.unload,this).bind()).attach(window,"unload")},_onMouseWheel:function(a){if(this._mousewheel_lock==false){this._mousewheel_lock=true;setTimeout($Fn(function(){this._mousewheel_lock=false},this).bind(),700);a.mouse().delta<0?this.doNext():this.doPrev()}a.stopBubble()},_onKeyDown:function(a){if(!this.welViewer.visible()){return}if(a.key().left){this.doPrev()}else{if(a.key().right){this.doNext()}}a.stopBubble()},_onMouseDown:function(b){var f=b.element;var a=f.className;if(b.mouse().right==true&&this.opt.allowRightMouseClick==false){alert("마우스 오른쪽 버튼은 사용할 수 없습니다. ");return}switch(a){case"_btn_left":if(this._bPrevButton==false){sImg="btn_left_off.gif"}else{sImg="btn_left_down.gif"}this.setButtonStyleChangeBackground(f,sImg);b.stopBubble();break;case"_btn_right":if(this._bNextButton==false){sImg="btn_right_off.gif"}else{sImg="btn_right_down.gif"}this.setButtonStyleChangeBackground(f,sImg);b.stopBubble();break;case"_btn_close":this.setButtonStyleChangeBackground(f,"btn_close_down.gif");b.stopBubble();break;default:break}},_onMouseUp:function(b){var f=b.element;var a=f.className;switch(a){case"_btn_left":if(this._bPrevButton==false){sImg="btn_left_off.gif"}else{sImg="btn_left.gif"}this.setButtonStyleChangeBackground(f,sImg);b.stopBubble();break;case"_btn_right":if(this._bNextButton==false){sImg="btn_right_off.gif"}else{sImg="btn_right.gif"}this.setButtonStyleChangeBackground(f,sImg);b.stopBubble();break;case"_btn_close":this.setButtonStyleChangeBackground(f,"btn_close.gif");b.stopBubble();break;default:break}},_onClick:function(b){var f=b.element;if(f.tagName.toLowerCase()=="img"){f=f.parentNode}var a=f.className;switch(a){case"_btn_left":this.doPrev();b.stop();break;case"_btn_right":this.doNext();b.stop();break;case"_btn_close":clickcr(b.element,"pst.imgclose2","","",b.$value());this.doClose();b.stop();break;case"btn_original":this.doOrginalView();break;default:break}if($$.getSingle("! div.photo_album",f)){clickcr(b.element,"pst.imgclose1","","",b.$value());this.doClose()}b.stopBubble()},_onMouseOverOut:function(b){var g=b.element;var a=g.className;var f="";if(b.type=="mouseout"){if(this.opt.allowRightMouseClick==false){this.opt.target.document.oncontextmenu=new Function("")}switch(a){case"_btn_left":if(this._bPrevButton==false){f="btn_left_off.gif"}else{f="btn_left.gif"}this.setButtonStyleChangeBackground(g,f);break;case"_btn_right":if(this._bNextButton==false){f="btn_right_off.gif"}else{f="btn_right.gif"}this.setButtonStyleChangeBackground(g,f);break;case"photo_album":this.doOrginalView(b.pos(),"disabled");break;case"_btn_close":this.setButtonStyleChangeBackground(g,"btn_close.gif");break;default:break}}else{switch(a){case"_btn_left":if(this._bPrevButton==false){f="btn_left_off.gif"}else{f="btn_left_over.gif"}this.setButtonStyleChangeBackground(g,f);break;case"_btn_right":if(this._bNextButton==false){f="btn_right_off.gif"}else{f="btn_right_over.gif"}this.setButtonStyleChangeBackground(g,f);break;case"photo_album":this.doOrginalView(b.pos(),"enabled");break;case"_btn_close":this.setButtonStyleChangeBackground(g,"btn_close_over.gif");break;default:break}}b.stopBubble()},setNDSControll:function(){if(this.opt.ndsurl){this.elNdsIframe.src=this.opt.ndsurl}},_openImageInNewWindow:function(a){if(a==null||a[0]==null||a[0]==""){return}if(this.welImageAnchor==null){this.welImageAnchor=$Element("<a href='' target='_blank' />")}this.welImageAnchor.attr("href",a[0]);this.welImageAnchor.fireEvent("click",{left:true,middle:false,right:false})},doPlayer:function(a,f,b){if(userAgentUtil.isIPadRequest()){if(b!=true){this.setNDSControll()}this._openImageInNewWindow(a);return}this.wfKeydown.attach(document,"keydown");if(document.createEventObject){this.opt.target.document.body.focus()}else{this.elViewerNextButton.focus()}if(b!=true){this.setNDSControll()}this._imageWidthMin=a.length>1?this._oImageWidthMin.more:this._oImageWidthMin.single;this._imageHeightMin=a.length>1?this._oImageHeightMin.more:this._oImageHeightMin.single;setTimeout($Fn(function(){if(a.length>1){this.welPhotoCountFrame.show();this.welTabNaviFrame.show()}else{this.welPhotoCountFrame.hide();this.welTabNaviFrame.hide()}},this).bind(),20);if(a.length-1>=f){this._ref=a;this._count=a.length-1;this._no=f;if($("photoview")&&$Element($("photoviewer")).visible()){if($("photoview").src.indexOf(this._ref[this._no])>-1){return}}this.display()}},doClose:function(){this.wfKeydown.detach(this.opt.target.document,"keydown");this.wfKeydown.detach(document,"keydown");if(this.tid){clearTimeout(this.tid)}if(this.tidTimeout){clearTimeout(this.tidTimeout)}this.welPhotoCountFrame.hide();this.welTabNaviFrame.hide();this.welViewer.hide();this.closeSafeLayer()},doPrev:function(){if(this._bPrevButton==false){return}this.setNDSControll();this._no--;this._no<0?this._no=0:this.display()},doNext:function(){if(!this._bNextButton){return}this.setNDSControll();this._no++;this._no>this._count?this._no=this._count:this.display()},_onMotionViewerReady:function(m,k,g,b){var h=$Agent().navigator();this._finishedX=null;this._finishedY=null;this._finishedScrollX=null;this._finishedScrollY=null;this._sourceX=m.sourceX;this._sourceY=m.sourceY;this._targetX=m.targetX;this._targetY=m.targetY;this._left=m.left;this._oldScrollLeft=k;this._frameDelayTime=0.18;this._heightBugId=$$.getSingle("table",this.elViewerImgFrame);this._bodyOffsetWidth=(h.IE==false?this.opt.target.document.documentElement.offsetWidth:this.opt.target.document.documentElement.offsetWidth-20);this._isScroll=true;this._isCenterScroll=true;this._isRight=false;if(h.IE&&h.version=="5.5"){var a=this.opt.target.document.body.scrollTop==0?this.opt.target.document.body.scrollTop:this.opt.target.document.body.scrollTop;var f=this.opt.target.document.body.scrollLeft==0?this.opt.target.document.body.scrollLeft:this.opt.target.document.body.scrollLeft;var n=h.IE==true?this.opt.target.document.body.clientWidth:window.innerWidth;n=n+f;var j=h.IE==true?this.opt.target.document.body.clientHeight:window.innerHeight}else{var a=this._getCalculatedScrollTop(this.opt.target.document);var f=this.opt.target.document.body.scrollLeft==0?this.opt.target.document.documentElement.scrollLeft:this.opt.target.document.body.scrollLeft;var n=h.IE==true?this.opt.target.document.documentElement.clientWidth:window.innerWidth;n=n+f;var j=h.IE==true?this.opt.target.document.documentElement.clientHeight:window.innerHeight}if(g>=a&&a+j>=g&&k>=f&&k<=n&&this._bDragUsed==true&&this.welViewer.visible()){this._isCenterScroll=false}var l=this.getPosCenter(this._targetX,this._targetY);if(this._isCenterScroll==false){this._sourceScrollX=this._left}else{this._sourceScrollX=k==0?l.left:k}if(this._isCenterScroll==false){this._targetScrollX=this._left-(this._targetX/2-this._sourceX/2)}else{if(h.IE55){this._targetScrollX=this.opt.target.document.body.clientWidth/2-(this._targetX/2)+this.opt.target.document.body.scrollLeft}else{this._targetScrollX=this.opt.target.document.documentElement.clientWidth/2-(this._targetX/2)+this.opt.target.document.documentElement.scrollLeft}}this._sourceScrollY=g;if(h.ie&&h.version=="5.5"){this._targetScrollY=this._getCalculatedScrollTop(this.opt.target.document)+parseInt(this._marginTop,10)}else{this._targetScrollY=this._getCalculatedScrollTop(this.opt.target.document)+parseInt(this._marginTop,10)}if(this.oTidMoveMotion){clearInterval(this.oTidMoveMotion)}this.oTidMoveMotion=setInterval($Fn(this._onMotionViewer,this).bind(),10);this._runFunc=b},_onMotionViewer:function(){var g=$Agent().navigator();if(this._finishedX==null){this._sourceX+=this._frameDelayTime*(this._targetX-this._sourceX)}if(this._finishedY==null){this._sourceY+=this._frameDelayTime*(this._targetY-this._sourceY)}if(this._finishedScrollX==null){this._sourceScrollX+=this._frameDelayTime*(this._targetScrollX-this._sourceScrollX)}if(this._finishedScrollY==null){this._sourceScrollY+=0.3*(this._targetScrollY-this._sourceScrollY)}if(this._isCenterScroll==false){var f=this._sourceScrollX;if(f<0){f=0}}else{if(g.ie&&g.version=="5.5"){var a=this.opt.target.document.body.clientWidth/2-(this._sourceX/2)+this.opt.target.document.body.scrollLeft}else{var a=this.opt.target.document.documentElement.clientWidth/2-(this._sourceX/2)+this.opt.target.document.documentElement.scrollLeft}var f=this._oldScrollLeft==0?a:this._sourceScrollX}this.welViewer.css({display:"block",width:Math.floor(this._sourceX)+"px",height:Math.floor(this._sourceY)+"px",left:parseInt(f,10)+"px"});$Element(this.elViewerImgFrame).css({height:Math.floor(this._sourceY)+"px"});$Element(this._heightBugId).css({height:Math.floor(this._sourceY)+"px"});if(!g.IE||(g.IE&&g.version=="8")){$Element(this.elViewerImgFrame).css({width:Math.floor(this._sourceX-5)+"px"});$Element(this._heightBugId).css({width:Math.floor(this._sourceX-5)+"px"})}if(this._isCenterScroll==true){var b=this._sourceScrollY;this.welViewer.css("top",b+"px")}if(Math.ceil(this._sourceX)==this._targetX||Math.floor(this._sourceX)==this._targetX){this._finishedX=this._targetX}if(Math.ceil(this._sourceY)==this._targetY||Math.floor(this._sourceY)==this._targetY){this._finishedY=this._targetY}if(this._sourceScrollX>=this._targetScrollX-0.5&&this._sourceScrollX<=this._targetScrollX+0.5){this._finishedScrollX=this._targetScrollX}if(this._sourceScrollY>=this._targetScrollY-0.5&&this._sourceScrollY<=this._targetScrollY+0.5){this._finishedScrollY=this._targetScrollY}if(this._finishedX!=null&&this._finishedY!=null&&this._finishedScrollY!=null){this.welViewer.css({width:this._targetX+"px",height:this._targetY+"px"});if(this._runFunc){this._runFunc()}this._runFunc=null;this._finishedX=null;this._finishedY=null;this._finishedScrollX=null;this._finishedScrollY=null;this.oDrag.attachEvent();clearInterval(this.oTidMoveMotion)}},_getCalculatedScrollTop:function(a){if(a==null){return 0}if(a.documentElement.scrollTop+a.body.scrollTop==a.documentElement.scrollTop){return a.documentElement.scrollTop}return a.body.scrollTop},display:function(){this.closeSafeLayer();var b=this;var a=this.img=new Image();if(this.tid){clearTimeout(this.tid)}if(this.tidTimeout){clearTimeout(this.tidTimeout)}if(this.oTid_initialFunction){clearTimeout(this.oTid_initialFunction)}if(this.oTid_imageLoadFunction){clearTimeout(this.oTid_imageLoadFunction)}if(this.oTidMoveMotion){clearInterval(this.oTidMoveMotion)}this._bPrevButton=this._no==0?false:true;this._bNextButton=this._no>=this._count?false:true;this.setPreButtonStatus();this.setNextButtonStatus();this.elCountCurrentFrame.innerHTML=parseInt(this._no,10)+1;this.elCountTotalFrame.innerHTML=parseInt(this._count,10)+1;this.setImageLodingAfterDrawLoading($Fn(function(){var f=this.welViewer.visible()?parseInt(this.welViewer.css("top"),10):this._getCalculatedScrollTop(this.opt.target.document);var g=this.welViewer.visible()?parseInt(this.welViewer.css("left"),10):0;if(!this._oldWidth){this._oldWidth=this._imageWidthMin;this._oldHeight=this._imageHeightMin}var h={sourceX:this._oldWidth,sourceY:this._oldHeight,targetX:this._oldWidth,targetY:this._oldHeight,left:parseInt(this.welViewer.css("left"),10)||0};this._onMotionViewerReady(h,g,f)},this).bind(),$Fn(function(){var f=this.welViewer.visible()?parseInt(this.welViewer.css("top"),10):this._getCalculatedScrollTop(this.opt.target.document);var g=this.welViewer.visible()?parseInt(this.welViewer.css("left"),10):0;a.onload=function(){this.__width=this.width;this.__height=this.height;if(b.tidTimeout){clearTimeout(b.tidTimeout)}b._orginalViewFlag=(this.width>=b.opt.imageMax[0]||this.height>=b.opt.imageMax[1]?true:false);setTimeout($Fn(b.doOrginalViewDisplayReset,b).bind(),100);if(b.opt.imageMax[0]!=0&&b.opt.imageMax[1]!=0){b.setResizeImage(this,b.opt.imageMax[0],b.opt.imageMax[1])}var h=this.width<b._imageWidthMin?b._imageWidthMin:this.width+6;var j=this.height<b._imageHeightMin?b._imageHeightMin:this.height;var l=b.getPosCenter(h,j);b._nObj.width=h;b._nObj.height=j;if(!b._oldWidth){b._oldWidth=b._imageWidthMin;b._oldHeight=b._imageHeightMin}var m={sourceX:b._oldWidth,sourceY:b._oldHeight,targetX:h,targetY:j,left:parseInt(b.elViewer.style.left,10)};var k=$Fn(function(){b.setDraw(this)},this).bind();b._onMotionViewerReady(m,g,f,k);b._oldWidth=h;b._oldHeight=j;this.onload=function(){}};this.tidTimeout=setTimeout($Fn(function(){if(b.elViewer.style.display=="none"){var h=300;var j=300;var k=b.getPosCenter(h,j);$Element(b.elViewer).css({width:h+"px",height:j+"px",left:k.left+"px",top:50+this._getCalculatedScrollTop(document)+"px"});$Element(b.elViewer).css({display:"block"})}b.setDraw({src:"https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer/img_no_photo2.gif",width:140,height:140})},this).bind(),2000);a.src=this._ref[this._no]},this).bind())},openSafeLayer:function(){var a=$Agent().navigator();if(!(a.ie&&(a.version=="6"||a.version=="5.5"))){return}setTimeout($Fn(function(){if(this.elSafeIframe){this.closeSafeLayer()}this.elSafeIframe=this.opt.target.document.createElement("iframe");this.elSafeIframe.width=this.elViewer.offsetWidth+"px";this.elSafeIframe.height=(this.elViewer.offsetHeight+35)+"px";this.elSafeIframe.frameBorder="0";$Element(this.elSafeIframe).css({overflow:"hidden",position:"absolute",top:"0",left:"0"});this.elViewer.insertBefore(this.elSafeIframe,this.elViewer.firstChild)},this).bind(),100)},closeSafeLayer:function(){var a=$Agent().navigator();if(!(a.ie&&(a.version=="6"||a.version=="5.5"))){return}if(!this.elSafeIframe){return}this.elSafeIframe.parentNode.removeChild(this.elSafeIframe);this.elSafeIframe=null},doOrginalView:function(f,b){var a="";if(b){if(b=="disabled"){a="none";if(f.layerX=="undefined"||f.layerY=="undefined"){a="block"}}else{if(b=="enabled"){a=this._orginalViewFlag==true?"block":"none"}}$Element(this.elViewerOriginalButton).css({display:a,cursor:this.getCursorStyle()})}else{this.doOpenPopup()}},doOrginalViewDisplayReset:function(){$Element(this.elViewerOriginalButton).css({display:this._orginalViewFlag==true?"block":"none"})},setDraw:function(a){this.elViewerImgFrame.innerHTML="<table width=100% height=100% cellspacing=0 cellpadding=0 border=0><tr><td align=center valign=middle><img id='photoview' src='"+a.src+"' width='"+a.width+"' height='"+a.height+"' align=absmiddle></td></tr></table>";this.openSafeLayer()},setImageLodingAfterDrawLoading:function(a,b){if(this.oTid_initialFunction){clearTimeout(this.oTid_initialFunction)}if(this.oTid_imageLoadFunction){clearTimeout(this.oTid_imageLoadFunction)}this.elViewerImgFrame.innerHTML="<table style='width:100%;height:100%;text-align:center'><tr><td align=center valign=middle><table style='width:100%;height:100%;text-align:center;'><tr><td style='width:100%;height:100%;text-align:center;'><div class=\"loading_layer\" style='width:150px;height:34px;text-align:center;'>사진을 불러오는 중...</div></tr></table></td></tr></table>";this.oTid_initialFunction=setTimeout(a,10);this.oTid_imageLoadFunction=setTimeout(b,30)},chkMouseClick:function(g){var j=this.welViewer.offset();var b=j.left;var h=j.top;var a=b+this.elViewer.offsetWidth;var f=h+this.elViewer.offsetHeight;if(b<=e.page_x&&a>=e.page_x&&h<=e.page_y&&f>=e.page_y){}else{this.doClose()}},_setResizeImage:function(f,b,a){if(!b){b=this._def.oLimitSize.width}if(!a){a=this._def.oLimitSize.height}if((f.width/f.height)>=(b/a)&&f.width>b){f.height=(f.height*b)/f.width;f.width=b}else{if((f.width/f.height)<(b/a)&&f.height>a){f.width=(f.width*a)/f.height;f.height=a}}},setResizeImage:function(f,b,a){this._setResizeImage(f,b,a)},getPosCenter:function(a,j){if(window.innerWidth){_width=this.opt.target.window.innerWidth}else{if(this.opt.target.document.documentElement.clientWidth!=0){_width=this.opt.target.document.documentElement.clientWidth}else{_width=this.opt.target.document.body.clientWidth}}var f=window.innerHeight?this.opt.target.window.innerHeight:this.opt.target.document.documentElement.clientHeight;var h=this._getCalculatedScrollTop(this.opt.target.document);var k=$Agent().navigator();if(k.ie&&k.version=="5.5"){_width=top.document.body.clientWidth}var b=_width/2-(a/2)+this.opt.target.document.documentElement.scrollLeft;if(b<0){b=0}var g=parseInt(this._marginTop,10)+h;return{left:b,top:g}},appendViewerDiv:function(){var f=$Agent().navigator();this.elViewer=$("<div>");this.welViewer=$Element(this.elViewer);this.welViewer.attr("id","photoviewer");this.welViewer.className("photo_view");this.welViewer.css({position:"absolute",display:"none",top:this._marginTop,left:"100px",width:"200px",height:"200px",zIndex:"1000",cursor:this.getCursorStyle()});var a=this.opt.target.document.body;if(a.firstChild){a.insertBefore(this.elViewer,a.firstChild)}var b=[];b.push('<div class="view_top"><h3><img src="https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/lg_photoviewer.gif" width="133" height="31" alt="NAVER PHOTO VIEWER"></h3>');b.push('<div class="tab_navi">');b.push('<p class="btn_left"><a href="#" class="_btn_left" ><img src="https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/btn_left.gif" width="31" height="21" alt="이전"></a></p>');b.push('<p class="btn_right"><a href="#" class="_btn_right" ><img src="https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/btn_right.gif" width="32" height="21" alt="다음"></a></p></div>');b.push('<div class="photo_count"><strong><span class="current"></span></strong>&nbsp;/&nbsp;<span class="total"></span></div></div>');b.push('<div class="photo_album">');b.push("<p></p>");b.push('<a href="#" title="원본보기" class="btn_original" onclick="return false"><img src="https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/btn_original2.png" width="80" height="80" alt="원본보기"></a>');b.push('<div class="photo_shadow"></div>');b.push("</div>");b.push('<div class="btn_close"><a href="#" class="_btn_close" ><img src="https://blogimgs.pstatic.net/blog20/blog/layout_photo/viewer2/btn_close.gif" width="23" height="22" alt="닫기"></a></div>');b.push('<iframe style="display:block;position:absolute;visibility:hidden;width:0px;height:0px;" title="빈프레임"></iframe>');this.elViewer.innerHTML=b.join("");this.elViewerTopFrame=$$.getSingle(".view_top",this.elViewer);if(!f.IE){this.elViewerTopFrame.getElementsByTagName("h3")[0].style.marginBottom="-6px"}this.elViewerImgFrame=$$.getSingle(".photo_album > p",this.elViewer);this.welTabNaviFrame=$Element($$.getSingle(".tab_navi",this.elViewer));this.welPhotoCountFrame=$Element($$.getSingle(".photo_count",this.elViewer));this.elCountCurrentFrame=$$.getSingle(".current",this.elViewer);this.elCountTotalFrame=$$.getSingle(".total",this.elViewer);this.elNdsIframe=this.elViewer.getElementsByTagName("iframe")[0]},getButtonDiv:function(){var f=this.elViewerCloseButton=$$.getSingle(".btn_close",this.elViewer);this.elViewerPrev=$$.getSingle(".btn_left",this.elViewer);var a=this.elViewerPrevButton=this.elViewerPrev.getElementsByTagName("a")[0];$Element(a).css({cursor:this.getCursorStyle()});this.elViewerNext=$$.getSingle(".btn_right",this.elViewer);var b=this.elViewerNextButton=this.elViewerNext.getElementsByTagName("a")[0];$Element(b).css({cursor:this.getCursorStyle()});this.elViewerOriginalButton=$$.getSingle(".btn_original",this.elViewer);$Element(this.elViewerOriginalButton).css({display:"none",cursor:this.getCursorStyle()});this.elViewer.appendChild(f)},appendDragging:function(){var a=$("head-skin");this.oDrag=new jindo.DragArea(document.body,{sClassName:"view_top",bFlowOut:false}).attach({dragStart:function(f){var b=f.elDrag;b=$$.test(b,"! #photoviewer")?b:$$.getSingle("!  #photoviewer",b);f.elDrag=b},beforeDrag:function(b){b.elFlowOut=a}});this.oDrag.detachEvent();$Element(this.elViewerTopFrame).css({cursor:"move"})},unload:function(){this.doClose()},doOpenPopup:function(){var b=(window.screen.width/2)-(this.img.__width/2);var g=(window.screen.height/2)-(this.img.__height/2);if(g<0){g=10}if(b<0){b=10}var a=(window.screen.width<this.img.__width||window.screen.height<this.img.__height?"yes":"no");var f=window.open(this.opt.popupurl+"/viewer.jsp?src="+encodeURIComponent(this.img.src),"imageviewer","width="+this.img.__width+",height="+this.img.__height+",left="+b+",top="+g+",directories=no,location=no,menubar=no,scrollbars="+a+",status=no,toolbar=no,resizable=yes")}});var mlayoutPhoto=new postCommon.PhotoImageViewer({target:window,popupurl:"http://blog.naver.com/storyphoto"});var popview=function(f,a){var b="";var h=$Element(f);var g=[];if(typeof f=="string"){b=f}else{if(typeof f=="object"&&f.parentNode!="undefined"&&f.src!="undefined"){g=h.parent(function(j){return j.$value().tagName.toLowerCase()=="a"});if(g.length>0){return}else{b=f.src}}}popview2(b,a)};var popview2=function(j,b){if(window.location.protocol=="https:"){var h=/((beta\.)?(blogfiles|postfiles)(\d{1,2})?.(pstatic).net)\.*/;var g=j.match(h);if(g&&g[0]&&g[1]){var a=g[2]?g[2]+"blogfiles.pstatic.net":"blogfiles.pstatic.net";j=j.replace(g[1],a).replace(/\?.*/,"")}}else{var f=/((beta\.)?(blogfiles|postfiles)(\d{1,2})?.(naver).net)\.*/;var g=j.match(f);if(g&&g[0]&&g[1]){var a=g[2]?g[2]+"blogfiles.naver.net":"blogfiles.naver.net";j=j.replace(g[1],a).replace(/\?.*/,"")}}mlayoutPhoto.doPlayer([j],0,!!b);if(!b){return}clickcr("","pst.imgexpand","","","")};var NaverCommentStyleController=function(){var g=jindo.$Element;var f=jindo.$;var a=jindo.$$;var b=jindo.$Template;this.makeAndPutFontCss=function(h){var l=this._setFontInlineCssAndGetInfoMap(h);var k=this._generateFontCss(l);var j=h+"commentFontCss";this._initStyle(j);this._putCss(k,j)};this.makeAndPutCustomCss=function(j){var h="commentCustomCss";if(!j&&g(h)){return}var k=this._getCustomCssFromTemplate();this._putCss(k,h)};this._generateFontCss=function(n){var h="";var m="";for(var k in n){if(!n.hasOwnProperty(k)){continue}var j=this._makeFontUrl(n[k]);h+="@font-face {font-family:'"+k+"';font-style:normal;font-weight:normal;src:local('Helvetica Neue'),local('Apple SD Gothic Neo'),local(Dotum),local(돋움)}";h+="@font-face {font-family:'"+k+"';font-style:normal;font-weight:normal;src:url("+j+");}";var l=n[k].fontSize;m+=" ._font-name_"+k+" .u_cbox_name_area, ._font-name_"+k+" .u_cbox_text_wrap { font-family:'"+k+"' !important;"+(l=="0"?"":"font-size:"+l+"pt !important")+"}"}return h+m};this._makeFontUrl=function(h){var n=itemImagesURL+"/outlinefont/";var l=h.fontId;var k=+l%100;var o=parseInt((+l%10000)/100);var j=k==0?"100":k;var m=o==0?"100":o;return n+j+"/"+m+"/"+h.fontName+".eot"};this._setFontInlineCssAndGetInfoMap=function(r){var o=g(r).queryAll("._eot_font");var k={};for(var m in o){var h=g(o[m]);var q=h.className();if(!q){continue}var n=/_font-name_([\d]+_[\d]+)/.exec(q);var j=n[1];if(!j||k[j]){continue}var p=j.split("_");var l=p[0];var s=p[1];k[j]={fontName:j,fontId:l,fontSize:s}}return k};this._putCss=function(k,h){var j=f(h);if(!k){return}if(!j){j=document.createElement("style");j.id=h;j.type="text/css";document.getElementsByTagName("head")[0].appendChild(j)}if(j.styleSheet){j.styleSheet.cssText=k}else{j.innerHTML=k}};this._initStyle=function(j){var h=g(j);if(!h){return}h.leave()};this._getCustomCssFromTemplate=function(){var k=g(a.getSingle("._naver_comment_skin_property .pcol2"));var l=g(a.getSingle("._naver_comment_skin_property .cline"));var h=g(a.getSingle("._naver_comment_skin_property .pcol3"));var j=g(a.getSingle("._naver_comment_skin_property .comment"));return b("naverCommentCustomCssTpl").process({comment:j.css("backgroundColor"),cline:l.css("borderBottomColor"),pcol2:k.css("color"),pcol3:h.css("color")})}};var NaverCommentController=$Class({$init:function(){this.paginationInfoMap={};this.keepScrollContainerIdMap={};this.disableContainerIdMapForPagingScroll={};this.naverCommentScriptLoaded;this.oUserProfileInfo;this.styleController=new NaverCommentStyleController();this.isSimpleType=false;this.styleController.makeAndPutCustomCss();this.isAutoFocus=false;if(gbIsPostCommentOpen&&paramLogNo){this._autoOpenComment()}},_autoOpenComment:function(){if(!firstPostIsAllOpenPost){firstPostIsAllOpenPost="false"}try{var a={blogNo:blogNo,ticketNo:"201",targetNo:paramLogNo,aFormation:["list","page","write"],isPostComment:true,nPageSize:50,sPageType:"default"};this.open(a)}catch(b){}},open:function(b,f){var a=this._getContainerId(b.ticketNo,b.targetNo);this.keepScrollContainerIdMap[a]=true;this.disableContainerIdMapForPagingScroll[a]=true;this._setAdditionalInfo(b)},_hasProduct:function(b){if(typeof endPageProductMap==="undefined"||!endPageProductMap){return false}var f=endPageProductMap[b];if(typeof f==="undefined"||!f){return false}var a=f.secedeSellerHasProduct;if(typeof a==="undefined"||!a){return false}return a},_setAdditionalInfo:function(f){var b=this;var h=function(j){b.oMentionInfo=j;b._loadNaverCommentModule(f)};var g=function(){b._setMentionInfo(f,h)};var a=function(){b._setUserProfileInfo(f,g)};b._setTemplateId(f,a)},_setTemplateId:function(b,f){var a=this._getObjectId(b);new $Ajax("/NaverCommentTemplateIdAsync.naver",{method:"post",onerror:function(){},onload:function(g){oResult=g.json();b.templateId=oResult.templateId;b.isMentionPossible=(b.templateId.indexOf("_pr")<0);f()}}).request({blogId:blogId,objectId:a})},_successfullyLoadedScript:function(){this.naverCommentScriptLoaded&&cbox&&cbox.Core&&cbox.Core.init},_setUserProfileInfo:function(b,f){if(this.oUserProfileInfo||!isLoggedIn){f();return}var a=this;new $Ajax("/NaverCommentUserInfoAsync.naver",{method:"post",onerror:function(){},onload:function(g){a._onloadUserProfileInfo(g,b);f()}}).request({blogId:blogId,isSimpleType:a.isSimpleType})},_setMentionInfo:function(a,b){if(typeof naverCommentMentionController==="undefined"||!a.isMentionPossible){b();return}naverCommentMentionController(blogId,b)},_onloadUserProfileInfo:function(b,a){oResult=b.json();var g=oResult.profileType;var h=oResult.nickName;var f=oResult.fontName;this.isSimpleType=oResult.isSimpleType;this.oUserProfileInfo={profileType:g,nickname:h};if(g=="profile"){this.oUserProfileInfo.image=oResult.profileImageUrl}else{if(g=="personacon"){this.oUserProfileInfo.images=JSON.parse(oResult.personaconListJson)}}if(f){this.oUserProfileInfo.fontName=f}},_loadNaverCommentModule:function(b){var a=this._makeNaverCommentParam(b);if(this._successfullyLoadedScript()){cbox.Core.init(a);return}this._loadScript(a)},_loadScript:function(b){var a=this;window.__htCboxOption=b;var f=document.createElement("script");f.type="text/javascript";f.charset="utf-8";f.onreadystatechange=function(){if(f.readyState=="complete"||f.readyState=="loaded"){a.naverCommentScriptLoaded=true}};f.onload=function(){a.naverCommentScriptLoaded=true};f.onerror=function(){a.naverCommentScriptLoaded=false};f.src=b.sDomain+"/js/cbox.core.js?v="+Math.floor(new Date().getTime()/1200000);(document.head||document.getElementsByTagName("head")[0]).appendChild(f)},close:function(b,a){$Element(this._getContainerId(b,a)).hide()},_show:function(h,b,g){var a=this._getContainerId(h,b);var f=$Element(a);this._showHeader(f,g);f.show()},_showHeader:function(f,j){var h=f.query(".commentbox_header");var b=f.query(".commentbox_pagination");if(!h||!b||!j.oJson.result.count||!j.oJson.result.pageModel){return}var g=j.oJson.result.count.total;var a=j.oJson.result.pageModel.totalPages;if(g<20){$Element(h).hide()}else{$Element(h).show()}if(a==1){$Element(b).hide()}else{$Element(b).show()}},toggle:function(b,a){this.isSimpleType=a;if(this.isVisible(b.ticketNo,b.targetNo)){this.close(b.ticketNo,b.targetNo)}else{this.open(b)}},isVisible:function(g,f){var a=this._getContainerId(g,f);var b=$Element(a);return b.visible()},_getDivId:function(b,a){return"naverComment_"+b+"_"+a},_getContainerId:function(b,a){return"naverComment_"+b+"_"+a+"_ct"},_getObjectId:function(a){return a.blogNo+"_"+a.ticketNo+"_"+a.targetNo},_loginPopup:function(a){var b=idURLSecret+"/nidlogin.login?template=plogin&mode=form&url="+blogURL+"/ReloadTopAndReturnClose.naver?blogId="+blogId+"%26logNo="+a+"%26isMemolog="+isMemolog;parent.open(b,"LoginForComment","width=205,height=208")},_getTargetScrollTop:function(b,a){if(b){var f=$Element(a).parent().query("._cmtList");return this._absoluteOffsetTop(f)-47}return window.pageYOffset||(document.documentElement||document.body).scrollTop},_getTargetScrollLeft:function(a){if(a){return 0}return window.pageXOffset||(document.documentElement||document.body).scrollLeft},_getUniqueIds:function(f){var g=[];for(var b=0,a=f.length;b<a;b++){var j=f[b];var h=j.profileUserId;if(g.indexOf(h)===-1&&h!==""){g.push(h)}}return g},_getBlockIds:function(a){ids=this._getUniqueIds(a);new $Ajax("/BlockIdCheck.naver",{method:"get",async:false,onload:function(b){oResult=b.json()}}).request({blogId:blogId,checkIds:ids.join(",")});return oResult},_markBlockIdsComment:function(f){if(isLoggedIn!==true||typeof f==="undefined"){return}var b=this._getBlockIds(f);for(var a=0;a<f.length;a++){if(b.indexOf(f[a].profileUserId)>=0){f[a].blogBlock=true}}},_makeNaverCommentParam:function(f){var m=this;var o=m._getDivId(f.ticketNo,f.targetNo);var b=f.commentNoPosition!=null?f.commentNoPosition:"";var n=m._getObjectId(f);var g=m._getContainerId(f.ticketNo,f.targetNo);var k=f.bIsAutoFocus;var j=m._getTargetScrollTop(k,g);var a=m._getTargetScrollLeft(k);var l="utf-8";var h=m._hasProduct(f.targetNo);return{sId:o,sDomain:naverCommentStaticURL,sApiDomain:naverCommentApiURL,bLogin:isLoggedIn,sTicket:"blog",sObjectId:n,sLanguage:"ko",sGroupId:f.blogNo,sCommentNo:b,sLikeItId:f.sLikeItId,bManager:blogOwner,aFormation:f.aFormation,sCharset:l,sDateFormat:"Y.n.j. H:i",bUseAgo:false,bShowReply:true,sTemplateId:f.templateId,nPageSize:f.nPageSize,sCssId:"blog",sCssUrl:"./js/navercomment/blog_comment_test.css",sProfileActionType:"NEW_WINDOW",bStickerPositionUp:false,fLoginHandler:function(p){if(!f.isPostComment){loginObj.popUpLogin("parent replace");return}m._loginPopup(f.targetNo)},fCommentItemHandler:function(q){if(q.blogBlock==true){q.contents="차단된 사용자의 댓글입니다.";q.className="blog_type_userblock";return}if(q&&q.userProfileImage){var p=q.userProfileImage;if(p.indexOf("?")>0){p=p.substring(0,p.indexOf("?"))}q.userProfileImage=p+"?type=s40"}if(!q.extension){return}q.className="_eot_font _font-name_"+q.extension},vProfileHandler:function(p){if(p.id){return mylogURL+"/"+p.id}else{if(p.userHomepageUrl){return p.userHomepageUrl}}},htMessage:{template:{list_empty:"댓글이 없습니다.<br>첫번째 댓글을 남겨주세요.",write_reply_placeholder:"답글을 입력해주세요.",write_long_placeholder:function(p){if(p.mention){return"블로그가 더 훈훈해지는 댓글 부탁드립니다. @별명을 입력하면 서로이웃이 소환됩니다."}else{return"블로그가 더 훈훈해지는 댓글 부탁드립니다. 불쾌감을 주는 욕설과 악플은 삭제될 수 있습니다."}},secret_reply:"비밀 댓글입니다.",editor:"블로그주인",mention:"소환"},alert:{mention_edit_confirm:"댓글 수정시 @소환이 해제됩니다. 계속 진행하시겠습니까?\n(소환기능은 Internet Explorer 9.0, Android 4.0 이상의 환경에서, 전체공개글 일때 가능합니다)",secret_mention_confirm:"댓글 내용 중 @소환이 있는경우,\n비밀로 등록할 수 없습니다.\n일반 댓글로 등록하시겠습니까?",not_support_upload_image:"IE 9 이하 브라우저에서는\n이미지 댓글을 업로드 할 수 없습니다.",exceed_comment:"IE 9 이하 브라우저에서는\n댓글 길이 300자(한글 기준)를 초과할 수 없습니다."}},htErrorHandler:{"3200":"블로그 주인이 설정한 스팸 차단에 의해 댓글이 등록되지 않습니다."},htEventHandler:{beforeCreate:function(p){var q=m.oUserProfileInfo;var r=q?q.fontName:null;if(r){var s=p.htParams;s.extension=r}if(h){p.htParams.secret=true}},beforeEdit:function(p){if(h){p.secret=true}},afterEdit:function(p){m._displayHasProduct(g,h)},afterList:function(p){m._displayHasProduct(g,h);m.styleController.makeAndPutFontCss(o);m._initPagination(o,g);m._focusToCommentTop(m,o,g)},afterReplyList:function(p){m._displayHasProduct(g,h);m.styleController.makeAndPutFontCss(o)},loadList:function(p){m._markBlockIdsComment(p.oJson.result.commentList);m._displayHasProduct(g,h);m._show(f.ticketNo,f.targetNo,p)},loadCreate:function(p){m._markBlockIdsComment(p.oJson.result.commentList)},afterCreate:function(p){m._displayHasProduct(g,h);m.styleController.makeAndPutFontCss(o);m._show(f.ticketNo,f.targetNo,p);m._initPagination(o,g);var q=$("commentCount").innerHTML;if(q==0){$("comment_zero_label").innerHTML="";$("commentCount").innerHTML=1;if($("floating_bottom_comment_label")!=undefined){$("floating_bottom_comment_label").innerHTML="댓글";$("floating_bottom_commentCount").innerHTML=1}}else{if($("commentCount").innerHTML.indexOf("+")>0){return}$("commentCount").innerHTML=+q+1;if($("floating_bottom_commentCount")!=undefined){$("floating_bottom_commentCount").innerHTML=+q+1}}},loadRemove:function(p){m._markBlockIdsComment(p.oJson.result.commentList)},afterRemove:function(p){m._displayHasProduct(g,h);m._show(f.ticketNo,f.targetNo,p);m._initPagination(o,g);var q=$("commentCount").innerHTML;if(q==1){$("comment_zero_label").innerHTML="쓰기";$("commentCount").innerHTML="";if($("floating_bottom_comment_label")!=undefined&&$("floating_bottom_commentCount")!=undefined){$("floating_bottom_comment_label").innerHTML="첫 댓글을 남겨보세요";$("floating_bottom_commentCount").innerHTML=""}}else{if($("commentCount").innerHTML.indexOf("+")>0){return}$("commentCount").innerHTML=+q-1;if($("floating_bottom_commentCount")!=undefined){$("floating_bottom_commentCount").innerHTML=+q-1}}},initialized:function(){m._displayHasProduct(g,h);if(b){return}window.scrollTo(a,j)},afterImageLoadFinished:function(){m._displayHasProduct(g,h);if(!m.keepScrollContainerIdMap[g]||b){return}window.scrollTo(a,j);m.keepScrollContainerIdMap[g]=false}},htUserInfo:m.oUserProfileInfo,htMentionOption:m.oMentionInfo}},_displayHasProduct:function(b,f){var a=this;if(!f){return}a._forceDisplaySecretTagHidden(b);a._addEditBtnEvent(b);a._addReplyBtnEvent(b)},_addReplyBtnEvent:function(b){var a=this;if(!b){return}var g=$Element(b).queryAll(".u_cbox_btn_reply");if(!g){return}for(var f in g){$Fn.freeElement(g[f]);$Fn(function(){setTimeout(function(){a._forceDisplaySecretTagHidden(b)},0)},a).attach(g[f],"click")}},_addEditBtnEvent:function(b){var a=this;if(!b){return}var g=$Element(b).queryAll(".u_cbox_btn_edit");if(!g){return}for(var f in g){$Fn.freeElement(g[f]);$Fn(function(){setTimeout(function(){a._forceDisplaySecretTagHidden(b)},0)},a).attach(g[f],"click")}},_forceDisplaySecretTagHidden:function(b){var a=this;if(!b){return}var h=$Element(b).queryAll(".u_cbox_secret_tag");if(!h){return}for(var f in h){var g=h[f];$Element(g).css("display","none")}},_focusToCommentTop:function(a,f,b){if(a.disableContainerIdMapForPagingScroll[b]){a.disableContainerIdMapForPagingScroll[b]=false;return}var g=$Element(b).parent().query("._cmtList");window.scrollTo(0,a._absoluteOffsetTop(g))},_absoluteOffsetTop:function(a){if(!a){return 0}var b=0;do{b+=a.offsetTop||0;a=a.offsetParent}while(a);return b},_initPagination:function(b,a){if(!$Element(a).query("._naverCommentHeader")){return}if(!cbox.Interface.pagination){return}var f=cbox.Interface.pagination(b);this._setPageInfo(a,f);if(this.paginationInfoMap[a]){this.paginationInfoMap[a]=f;return false}this._addPaginationEvent(f,a);this.paginationInfoMap[a]=f},_setPageInfo:function(a,f){if(!f){f=this.paginationInfoMap[a]}var b=$Element(a).query(".commentbox_pagination");if(!b||!$Element(b).visible()){return}var g=f.currentPage();var h=f.totalPage();$Element(a).query("._currentPageNo").innerHTML=g;$Element(a).query("._lastPageNo").innerHTML=h;if(g==1){this._disablePageNavigator($Element(a).query("._naverCommentPrev"))}else{this._enablePageNavigator($Element(a).query("._naverCommentPrev"))}if(g==h){this._disablePageNavigator($Element(a).query("._naverCommentNext"))}else{this._enablePageNavigator($Element(a).query("._naverCommentNext"))}},_addPaginationEvent:function(h,f){var a=this;var j=$Element(f).query("._naverCommentWriteBtn");var g=$Element(f).query("._naverCommentPrev");var b=$Element(f).query("._naverCommentNext");if(!j&&!g&&!b){return}if(j){$Fn(a._doClick,this).attach(j,"click",true)}if(g){$Fn(a._doClick,this).attach(g,"click",false)}if(b){$Fn(a._doClick,this).attach(b,"click")}},_doClick:function(b){var f=b.element;var a=$Element(cssquery.getSingle("!a",f)?cssquery.getSingle("!a",f):f);var g=paramUtil.getParam(a&&a.className()!=""?a.className():f.className);if(a.hasClass("_naverCommentWriteBtn")){this._goWrite(g[0],g[1],b)}else{if(a.hasClass("_naverCommentPrev")){this._prevPage(g[0])}else{if(a.hasClass("_naverCommentNext")){this._nextPage(g[0])}}}},_goWrite:function(b,a,f){this.keepScrollContainerIdMap[a]=false;this.disableContainerIdMapForPagingScroll[a]=false;var h=$(b+"__write_textarea");if(!h){return}h.focus();var g=this._findWriteEl(b,h);this._scrollToCenter(g);f.stop()},_findWriteEl:function(b,g){var f=$A($Element(b).queryAll(".u_cbox_write_wrap"));if(!f||f.length()<1){return}var a;f.forEach(function(j){var h=$Element(j);if(h&&h.isParentOf($(g))){a=j}});return a},_scrollToCenter:function(g){var b=this._absoluteOffsetTop(g);var f=parseInt((window.innerHeight||document.documentElement.clientHeight)/2);var a=parseInt(g.offsetHeight/2);if(b&&f&&a){window.scrollTo(0,b-f+a)}},_prevPage:function(a){this.disableContainerIdMapForPagingScroll[a]=true;var b=this.paginationInfoMap[a];this._setPageInfo(a,b);if(b.currentPage()==1){return}b.prev()},_nextPage:function(a){this.disableContainerIdMapForPagingScroll[a]=true;var b=this.paginationInfoMap[a];this._setPageInfo(a,b);if(b.currentPage()==b.totalPage()){return}b.next()},_disablePageNavigator:function(a){if(!a){return}$Element(a).addClass("dimmed")},_enablePageNavigator:function(a){if(!a){return}$Element(a).removeClass("dimmed")}});var naverCommentController=new NaverCommentController();function NaverCommentMentionController(){var a=this;a.cachedMentionInfoList;a.loadMentionInfoList=function(b,f){new $Ajax("/NaverCommentMentionInfoListAsync.naver",{method:"post",onload:function(g){if(g&&g._response){if(f){var j=g.json();var h={getter:function(l,k){k(j)},message:{guide:"@블로그별명 입력 시, 서로이웃이 소환됩니다.",empty:"서로이웃을 소환할 수 있습니다."},useMentionButton:true,buttonGuide:{message:"이제 PC 전체공개글에서도 나의 서로이웃을 소환해 보세요.",expire:365}};a.cachedMentionInfoList=h;f(h)}}}}).request({blogId:b})};return function(f,g){var b=a.cachedMentionInfoList;if(b){if(g){g(b)}return}a.loadMentionInfoList(f,g)}}var naverCommentMentionController=new NaverCommentMentionController();var VideoPlayerController=$Class({$init:function(){this.videoPlayerUrl=videoPlayerUrl;this.isDevPhase=isDevPhase==="true";this.isStagePhase=isStagePhase==="true";this.isNotHasSe3AndSeOne=isNotHasSe3AndSeOne;this.videoInfraSid=this.isDevPhase==="true"?20002:2;if(this.isNotHasSe3AndSeOne){this.load()}this.playerObjectList=[]},load:function(a){var b=this;if(b._isActiveEnabledElement()){b._loadElement(a);return}b._loadScript(a)},_loadScript:function(a){var b=this;var f=document.createElement("script");f.type="text/javascript";f.charset="utf-8";f.onreadystatechange=function(){if(f.readyState==="complete"||f.readyState==="loaded"){b._loadElement(a)}};f.onload=function(){b._loadElement(a)};f.onerror=function(){};f.src=b.videoPlayerUrl;(document.head||document.getElementsByTagName("head")[0]).appendChild(f)},_isActiveEnabledElement:function(){return typeof naver!=="undefined"&&naver.WebPlayer&&typeof nhn!=="undefined"&&nhn.rmcnmv},_loadElement:function(h){var j=this;if(!j._isActiveEnabledElement()){return}if(j.isDevPhase){nhn.rmcnmv.BUILD_PHASE="dev"}if(j.isStagePhase){nhn.rmcnmv.BUILD_PHASE="stage"}var l;if(typeof h!=="undefined"&&h){var p=document.getElementById(h);if(p){l=p.getElementsByClassName("_vnl")}}else{l=document.getElementsByClassName("_vnl")}if(!l){return}for(var g=0;g<l.length;g++){var r=l[g];var f=r.getAttribute("outKeyMode")==="true";var n=r.getAttribute("vid");var a=r.getAttribute("key");var b=r.getAttribute("data-width");var q=r.getAttribute("data-height");var s=0;var k=r.getAttribute("hasLink")==="true";var o=new naver.WebPlayer(n,{value:a,outKeyMode:f},b,q,j.videoInfraSid,s);var m={enableVertical:false,isDisplayControlBar:true,isDisplayMobileResSelect:true,isAvailableMobileResSelect:true,displayAppConnectButton:true,showContentInfo:true,canLikeIt:false,canScrap:k,hasRelativeMovie:true,jsCallable:true,controls:{visible:{scrap:true,writer:false,commentCount:false}}};if(typeof o.getPlayerType()!=="undefined"&&o.getPlayerType()==="FLASH"){m.controls.visible.scrap=k}o.setProperties(m);o.displayPlayer(r);o.on("ready",function(){if(typeof searchVid!=="undefined"&&searchVid!==""&&focusing){focusing.gotoTagForPost()}});if(typeof h!=="undefined"&&h){j.playerObjectList.push({vid:n,player:o})}}},resetPlayer:function(a){var b=this;var g=b._getVidList(a);for(var f=0;f<g.length;f++){b._playerPause(g[f])}},_playerPause:function(a){var h=this;if(typeof a==="undefined"||!a){return}for(var g=0;g<h.playerObjectList.length;g++){var b=h.playerObjectList[g];if(b.vid===a){var f=b.player;if(f&&f.getCurrentTime()>0){f.pause()}}}},_getVidList:function(b){var h=[];var f;if(typeof b!=="undefined"&&b){var a=document.getElementById(b);if(a){f=a.getElementsByClassName("_vnl")}}if(!f){return h}for(var g=0;g<f.length;g++){h.push(f[g].getAttribute("vid"))}return h}});var videoPlayerController=new VideoPlayerController();var ProductController=$Class({_blogId:"",_loginUserId:"",_loggedIn:false,_hasProduct:false,_endPageProductMap:{},_env:"dev",_platform:"pc",_marketScriptLoaded:false,_marketMap:{},_showCoupon:false,_pcUrl:"",$init:function(j,g,b,f,k,h,l,a){this._blogId=j;this._loginUserId=g;this._loggedIn=b;this._hasProduct=f;this._endPageProductMap=k;this._env=h;this._showCoupon=l;this._pcUrl=a;if(!this._isValid()){return}this._loadScript();this._initMarketLayer();$Fn(this._onClickBuyBtn,this).attach($$("._marketBuyBtn"),"click");$Fn(this._onClickCouponBtn,this).attach($$("._marketCouponBtn"),"click");$Fn(this._onClickProductNoticeExpand,this).attach($$("._noticeProductExpandBtn"),"click");$Fn(this._onClickDeliveryExpand,this).attach($$("._deliveryExpandedBtn"),"click");$Fn(this._onClickProductNoticeDisplayNone,this).attach($$("#head-skin"),"click");$Fn(this._onClickDeliveryDisplayNone,this).attach($$("#head-skin"),"click");$Fn(function(m){m.stop()},this).attach($$(".notification_table, .more_info, .deliver_contents_expand"),"click")},_successfullyLoadedScript:function(){return this._marketScriptLoaded&&naverBlog},_loadScript:function(){var a=this;var b=document.createElement("script");b.type="text/javascript";b.charset="utf-8";b.onreadystatechange=function(){if(b.readyState==="complete"||b.readyState==="loaded"){a._marketScriptLoaded=true}};b.onload=function(){a._marketScriptLoaded=true;a._initMarketLayer()};b.onerror=function(){a._marketScriptLoaded=false};b.src=this._getBlogModuleSrc();(document.head||document.getElementsByTagName("head")[0]).appendChild(b)},_onClickBuyBtn:function(f){var h=f.element;var b=$Element(cssquery.getSingle("!a",h)?cssquery.getSingle("!a",h):h);var k=paramUtil.getParam(b&&b.className()!=""?b.className():h.className);if(b.hasClass("_marketBuyBtn")){var g=((k==null||k[0]==null)?"":k[0]);var a=((k==null||k[1]==null)?"":k[1]);if(this._marketMap===null||this._marketMap===undefined){return}var j=jindo.$Agent().navigator();if(j.ie){if(confirm("이 브라우저는 현재 블로그 마켓 구매하기를 지원하지 않습니다.\n 네이버 웨일 등 다른 브라우저를 이용하시기 바랍니다.\n 지금 네이버 웨일을 설치하시겠습니까?")){window.open("https://whale.naver.com/ko/download","_blank")}return}if(this._marketMap[a]===null||this._marketMap[a]===undefined){return}this._marketMap[a].buyLayer.show({productId:g})}if(b.hasClass("_returnFalse")){f.stop()}},_onClickCouponBtn:function(f){var h=f.element;var b=$Element(cssquery.getSingle("!a",h)?cssquery.getSingle("!a",h):h);var k=paramUtil.getParam(b&&b.className()!=""?b.className():h.className);if(b.hasClass("_marketCouponBtn")){var g=((k==null||k[0]==null)?"":k[0]);var a=((k==null||k[1]==null)?"":k[1]);if(this._marketMap===null||this._marketMap===undefined){return}var j=jindo.$Agent().navigator();if(j.ie){if(confirm("이 브라우저는 현재 블로그 마켓 구매하기를 지원하지 않습니다.\n 네이버 웨일 등 다른 브라우저를 이용하시기 바랍니다.\n 지금 네이버 웨일을 설치하시겠습니까?")){window.open("https://whale.naver.com/ko/download","_blank")}return}if(this._loggedIn===false){var l=this._pcUrl+"/PostView.nhn?blogId="+this._blogId+"&logNo="+a+"&rproductId="+g+"&showCoupon=true";top.location.href="https://nid.naver.com/nidlogin.login?mode=form&&url="+encodeURIComponent(l);return}if(this._marketMap[a]===null||this._marketMap[a]===undefined){return}this._marketMap[a].couponLayer.show({productId:g})}if(b.hasClass("_returnFalse")){f.stop()}},showCouponLayer:function(a,b){if(this._marketMap[a]==="undefined"||this._marketMap[a]===null){return}if(typeof this._showCoupon==="undefined"||this._showCoupon===null||this._showCoupon===false){return}this._marketMap[a].couponLayer.show({productId:b})},_onClickDeliveryExpand:function(f){var h=f.element;var b=$Element(cssquery.getSingle("!a",h)?cssquery.getSingle("!a",h):h);var k=paramUtil.getParam(b&&b.className()!=""?b.className():h.className);if(b.hasClass("_deliveryExpandedBtn")){var a=((k==null||k[0]==null)?"":k[0]);var j="deliveryWrap_"+a;var g=$Element(j);if(g===null||g===undefined){return}if(g.hasClass("expanded")){clickcr(this,"pst.deliveryinfoclose","","",event);g.removeClass("expanded")}else{clickcr(this,"pst.deliveryinfoopen","","",event);g.addClass("expanded")}}if(b.hasClass("_returnFalse")){f.stop()}},_onClickDeliveryDisplayNone:function(){var a=$$(".wrap_deliver");if(a===null){return}var f=$Element(cssquery.getSingle("button",a[0]));var j=paramUtil.getParam(f&&f.className()!=""?f.className():a.className);if(f.hasClass("_deliveryExpandedBtn")){var b=((j==null||j[0]==null)?"":j[0]);var h="deliveryWrap_"+b;var g=$Element(h);if(g===null||g===undefined){return}if(g.hasClass("expanded")){g.removeClass("expanded")}}},_onClickProductNoticeExpand:function(m){var g=m.element;var a=$Element(cssquery.getSingle("!a",g)?cssquery.getSingle("!a",g):g);var k=paramUtil.getParam(a&&a.className()!=""?a.className():g.className);if(a.hasClass("_noticeProductExpandBtn")){var h=((k==null||k[0]==null)?"":k[0]);var f=((k==null||k[1]==null)?"":k[1]);var n="notificationInfo_"+f+"_"+h;var l=$Element(n);if(l===null||l===undefined){return}var j="notificationExpandedTable_"+f+"_"+h;var b=$Element(j);if(b===null||b===undefined){return}if(l.hasClass("expanded")){clickcr(this,"pst.iteminfoclose","","",event);l.removeClass("expanded");b.css("display","none")}else{clickcr(this,"pst.iteminfoopen","","",event);l.addClass("expanded");b.css("display","block")}}if(a.hasClass("_returnFalse")){m.stop()}},_onClickProductNoticeDisplayNone:function(){var a=$$(".notification_info");if(a===null){return}for(var b=0;b<a.length;b++){this._hideProductNotice(a[b])}},_hideProductNotice:function(g){var a=$Element(cssquery.getSingle("button",g));var k=paramUtil.getParam(a&&a.className()!=""?a.className():g.className);if(a.hasClass("_noticeProductExpandBtn")){var h=((k==null||k[0]==null)?"":k[0]);var f=((k==null||k[1]==null)?"":k[1]);var m="notificationInfo_"+f+"_"+h;var l=$Element(m);if(l===null||l===undefined){return}var j="notificationExpandedTable_"+f+"_"+h;var b=$Element(j);if(b===null||b===undefined){return}if(l.hasClass("expanded")){l.removeClass("expanded");b.css("display","none")}}},_getBlogModuleSrc:function(){if(this._isDevPhase()){return feMobileUrl+"/js/blogModule.js?v="+new Date().getTime()}return blogModuleJs},_isDevPhase:function(){return typeof this._env!=="undefined"&&this._env==="dev"},_isValid:function(){if(this._hasProduct===undefined){return false}return this._hasProduct},_initMarketLayer:function(){var a=this;if(!a._successfullyLoadedScript()){return}for(var b in a._endPageProductMap){if(a._endPageProductMap.hasOwnProperty(b)&&(a._endPageProductMap[b]&&a._endPageProductMap[b].hasProduct)){var f=document.getElementById("product-layer");var g=document.getElementById("product_contents_header_"+b);if(!f||!g){return}var h=new naverBlog.Market({blogId:a._blogId,loginUserId:a._loginUserId,logNo:b,sellerNo:a._endPageProductMap[b].sellerNo,env:a._env,buyLayerHolder:f,platform:a._platform});h.updateStatus(g);a._marketMap[b]=h;(function(j){h.on("marketstatuschaged",function(n){var k=n.status;var m="#post-view"+j;var l=$$(m+" .btn_buy");if(!l){return}l.map(function(p){var r=paramUtil.getParam(p.className);var q=((r==null||r[2]==null)?"":r[2]);var o=q==="false";switch(k){case"sale_ended":p.setAttribute("disabled","disabled");p.textContent="판매종료";break;case"sale_out_of_stock":p.setAttribute("disabled","disabled");p.textContent="재고소진";break;case"sale_before":p.setAttribute("disabled","disabled");p.textContent="판매예정";break;case"sale_no_deadline":case"sale_period":if(o){p.setAttribute("disabled","disabled");p.textContent="재고소진";break}p.removeAttribute("disabled");p.textContent="구매하기"}})})})(b)}}}});var productController=new ProductController(blogId,userId,bLoginUser,hasProduct,endPageProductMap,feEnv,showCoupon,gPcUrl);var BlogMarketWelcomeController=function(){this.localStorage=new LocalStorage("blog.market.welcome",10);this.show=function(){var a=localStorage.getItem("isNewblogMarket");if(a===null){this.showWelcomeLayer();localStorage.setItem("isNewblogMarket",false)}},this.showWelcomeLayer=function(){$Element("marketWelcomeLayerTemp").show()};this.hideWelcomeLayer=function(){$Element("marketWelcomeLayerTemp").hide()};this.goDeliveryFeeSetPage=function(a){if(($Agent().navigator().safari||$Agent().navigator().ie&&$Agent().navigator().nativeVersion<11)){if(confirm("이 브라우저는 현재 블로그 마켓 관리를 지원하지 않습니다.\n 네이버 웨일 등 다른 브라우저를 이용하시기 바랍니다.\n 지금 네이버 웨일을 설치하시겠습니까?")){window.open("https://whale.naver.com/ko/download")}return}window.parent.location.href=a+"/market/deliveryFee"}};var blogMarketWelcomeController=new BlogMarketWelcomeController();var BlogMarketSecedeController=function(){this.showSecedeLayer=function(){var a=$Element("blogMarketSecedeLayer");a.show();clickcr(a,"mktleave","","",a.$value())};this.hideSecedeLayer=function(){var a=$Element("blogMarketSecedeLayer");a.hide();clickcr(a,"mktleaveok","","",a.$value())}};var blogMarketSecedeController=new BlogMarketSecedeController();if(typeof postCommon=="undefined"){var postCommon={}}postCommon.Tag=$Class({$init:function(){this.restrictedTagChars=tagNameValidator.restrictedTagChars;this.tagData=null;this.currentTarget=null;this.isAlreadySubmit=false},isTagname:function(a){return tagNameValidator.isTagname(a)},validateTagString:function(b){var a=b.replace(this.restrictedTagChars,"");re=/[\x2c]+/g;return a.replace(re,",")},absoluteTagString:function(b,k){var j=this.validateTagString(b);var h=j.split(",");var g="";var a=h.length;if(a>k){a=k}for(var f=0;f<a;f++){g=g+h[f]+","}g=this.validateTagString(g);g=g.substring(0,g.length-1);return g},check_tagsvalidate:function(b,j,l){var a=$$.getSingle("~ div",j);var h=$$.getSingle("input",a);h.value=this.validateTagString(h.value);h.value=this.eliminateDuplicate(h.value);var f=h.value.split(",").length;if(l){l.call()}if(f.length==1&&f[0].length==0){h.focus();alert("태그를 입력해주세요");return false}if(f>30){alert("태그는 최대 30개 까지 입력이 가능합니다.");h.value=this.absoluteTagString(h.value,30);h.focus();return false}var g;var k=100;g=this.isValidateTagLength(h.value,k);if(!g){alert("태그는  100자 이상 입력할 수 없습니다.");h.focus();return false}return true},check_tagvalidate:function(a,f){var b=a.value;if(b.match(this.restrictedTagChars)!=null){b=b.replace(this.restrictedTagChars,"");a.value=b}var g=/[\x2c][\x2c]+/g;if(b.match(g)!=null){b=b.replace(g,",");a.value=b}if(f){f.call()}},eliminateDuplicate:function(b){var k=this.validateTagString(b);var h=k.split(",");var g="";for(var f=0;f<h.length;f++){for(var a=0;a<f;a++){if(h[a]==h[f]){h[f]=""}}g=g+h[f]+","}g=this.validateTagString(g);g=g.substring(0,g.length-1);return g},isValidateTagLength:function(a,f){var g=a.split(",");for(var b=0;b<g.length;b++){if(g[b].length>f){return false}}return true},getLogNoFromTagQuery:function(h){var f=[];if(!h){return f}var g=h.split("&");for(var b=0,a=g.length;b<a;b++){if(!g[b]){continue}f.push(g[b].replace(/logNo=/,""))}return f},loadTagInfo:function(a,h){var f=h||tagParam;var g=this.getLogNoFromTagQuery(f);var b="/BlogTagListInfo.naver";new $Ajax(b,{method:"get",onerror:function(){},onload:$Fn(function(k){if(a!="popup"){this.tagData=[]}if(typeof k!="undefined"){try{var p=k.json();if(!p){return}p=p.taglist;if(a=="popup"){this.callbackSaveTagInfo(p);return}this.tagData=p;if(a=="list"){if(p.length>0){for(i=0;i<p.length;i++){this.setTagList(p[i].logno,p[i].tagName,(p.length-1==i)?"resize":null,$("tagTopName_"+p[i].logno))}}}else{if(p.length>0){if(isMemolog){for(i=0;i<p.length;i++){this.setTagList(p[i].logno,p[i].tagName,(p.length-1==i)?"resize":null,$("tagTopName_"+p[i].logno))}}for(i=0;i<p.length;i++){if($("tagList_"+p[i].logno)!=null){$("tagList_"+p[i].logno).style.display=""}this.setTagList(p[i].logno,p[i].tagName,(p.length-1==i)?"resize":null,$("tagList_"+p[i].logno))}}}if(SspAdPostCallerForPC){var m=new SspAdPostCallerForPC();var o=typeof SspAdContentCallerForPC!=="undefined";m.renderAdPostDiv(p,"ssp-adpost",o,adContentLocation)}if(SspAdContentCallerForPC){var j=new SspAdContentCallerForPC();j.renderAdContent(p,"ssp-adcontent",adContentLocation)}}catch(l){var n=$$("div.post-tag[@display=block]");nCount=n.length;for(i=0;i<nCount;i++){$Element(n[i]).hide()}}}},this).bind()}).request({blogId:blogId,logNoList:g.join("|"),logType:(isMemolog?"memolog":"mylog")})},loadTagListTableInfo:function(a){this.loadTagInfo("list",a)},setTagList:function(a,k,g,b,j){var h=$Element(b);if(!h){return}var m=utility.decodeURIComponentForJava(k).split(",");var f=j==undefined||j=="undefined"?k.split("%2C"):j.split("%2C");var l=['<strong class="blind">태그</strong>'];if(this.isMemologTopMenu(h,a)){l.push(this.makeTagHTMLForMemologTop(a,h,m,f))}else{l.push(this.makeTagHTMLForPost(a,h,m,f))}h.html(l.join(""))},makeTagHTMLForMemologTop:function(b,h,f,a){var j='&nbsp;<a href="#" class="_showTagEditBox _rosRestrict _tagRosRestrict _param(EDIT|'+b+'|TOP) _returnFalse" ><img src="'+imageURL+'/nblog/btn_edit_2.gif" width="23" height="11" alt="edit"/></a>';var g=this.getTagContentsForMemolog(f,a);if(!g||g.length===0){return j}if(blogOwner||this.isPostUpdatable(h)){g.push(j)}return g.join("")},makeTagHTMLForPost:function(b,j,f,a){var l=this.isPostTopMenu(j,b);var g=l?"TOP":"";var k='&nbsp;<a href="#" class="btn pcol2 _showTagEditBox _rosRestrict _tagRosRestrict _param(EDIT|'+b+"|"+g+') _returnFalse"><span class="text">태그수정</span><i class="aline"></i></a>';var h=this.getTagContentsForPost(f,a,l);if(!h||h.length===0){h=[];h.push('<p class="text pcol2">작성된 태그가 없습니다.</p>');h.push('<a href="#" class="btn pcol2 _showTagEditBox _rosRestrict _tagRosRestrict _param(EDIT|'+b+"|"+g+'| INSERT) _returnFalse">태그달기<i class="aline"></i></a>');return h.join("")}if(blogOwner){h.push(k)}return h.join("")},getTagContentsForMemolog:function(f,a){var h=[];for(var g=0,b=f.length;g<b;g++){if(f[g]==""){continue}else{h.push('<a href="/PostListByTagName.naver?blogId='+blogId+"&logType=memolog&tagName="+a[g]+"\" class=\"tag pcol1 itemTagfont _setTop\" onclick=\"clickcr(this,'tag.list','','',event)\"><span>#"+f[g]+"</span></a>")}}return h},getTagContentsForPost:function(g,b,k){var j=[];var a=k?"'cat_tag.tag'":"'tag.list'";for(var h=0,f=g.length;h<f;h++){if(g[h]==""){continue}else{j.push('<a href="/PostListByTagName.naver?blogId='+blogId+"&logType=mylog&tagName="+b[h]+'" class="item pcol2 itemTagfont _setTop" onclick="clickcr(this,'+a+",'','',event)\"><span class=\"ell\">#"+g[h]+'</span><i class="pcol2b"></i></a>')}}return j},isPostUpdatable:function(a){var b=utility.getParam(a.className());return b&&b[0]=="true"},isPostTopMenu:function(b,a){return !isMemolog&&b.$value()==$("tagTopName_"+a)},isMemologTopMenu:function(b,a){return isMemolog&&b.$value()==$("tagTopName_"+a)},setTagForLogNo:function(f){for(var j=0;j<f.length;j++){var h=f[j];var g=false;for(var b=0,a=this.tagData.length;b<a;b++){if(this.tagData[b].logno==h.logno){this.tagData[b]=h;g=true;break}}if(!g){this.tagData.push(h)}}},getTagForLogNo:function(a){for(var f=0,b=this.tagData.length;f<b;f++){if(this.tagData[f].logno==a){return utility.decodeURIComponentForJava(this.tagData[f].tagName)}}},showTagEditBox:function(b,k){var a=$$.getSingle("~ div",k);var j=$$.getSingle("input",a);var f=this.getTagForLogNo(b);var g=utility.trim(f);var h=utility.unescapeUnicode(g);j.value="#"+h.split(/[,\s#]+/g).join(", #");$Element(k).hide();$Element(a).show();j=a=k=null},hideTagEditBox:function(b,f){var a=$$.getSingle("~ div",f);if(f.id.indexOf("tagTopName_")==-1||!blogOwner){$Element(f).show()}else{$Element(f).css({display:""})}$Element(a).hide();a=f=null},saveTag:function(b,f){var a=true;a=this.check_tagsvalidate(b,f);if(a){this.realSaveTag(b,f)}},realSaveTag:function(b,h){var a=$$.getSingle("~ div",h);var g=$$.getSingle("input",a);var f=$("saveTagName");this.currentTarget=h;f.logNo.value=b;f.chtagname.value=encodeURIComponent(utility.trim(g.value));if(isMemolog){f.logType.value="memolog"}if(this.isAlreadySubmit){return}this.changeAlreadySubmitValue(true);f.submit();f=g=a=h=null},callbackSaveTagInfo:function(aTagList){this.changeAlreadySubmitValue(false);if(typeof(aTagList)=="string"){aTagList=eval("("+aTagList+")").taglist}if(aTagList.length>0){this.setTagForLogNo(aTagList);for(var i=0,nCount=aTagList.length;i<nCount;i++){var oTag=aTagList[i];if(this.currentTarget!=null){this.hideTagEditBox(oTag.logno,this.currentTarget)}this.setTagList(oTag.logno,oTag.tagName,"resize",$("tagList_"+oTag.logno));this.setTagList(oTag.logno,oTag.tagName,"resize",$("tagTopName_"+oTag.logno))}}},changeAlreadySubmitValue:function(a){this.isAlreadySubmit=a}});var postListTag=new postCommon.Tag();var AdPostList=$Class({$init:function(a,h,b,g,f){this.nLogNo=a;this.nDirectorySeq=h;this.nIndex=b;this.bOldPostOneWeek=g;this.sModifyDateValue=f}});var AdPostObject=$Class({sBlogId:"",sAdPostSecurityParam:"",oContentShareObject:null,bExistAdPost:false,bUseAdPostInSide:false,aPostList:[],nCategoryDirectorySeq:0,nFirstLogNo:"",bPreview:false,bPreviewContent:false,bPreviewSide:false,nAlign:0,nCount:3,sContentSpanIdPrefix:"adPostInjectArea_",sSideSpanIdPrefix:"adPostWidget",bRemoconPreview:false,addAdPostList:function(a,h,b,g,f){this.aPostList.push(new AdPostList(a,h,b,g,f))},isPrintPreview:function(){return this.bPreviewContent||this.bPreviewSide},cannotViewCase:function(){return !this.oContentShareObject&&this.bUseAdPostInSide},isShowAdPost:function(){return !this.bPreview&&this.bExistAdPost&&!this.cannotViewCase()},isCleanSideAdPost:function(){return !this.bExistAdPost&&this.oContentShareObject&&$(this.sSideSpanIdPrefix)&&!this.bPreview}});var InstallBlogAppPush=$Class({$init:function(){$Fn(this._onClick,this).attach(document,"click")},_onClick:function(b){var f=b.element;var a=$Element($$.getSingle("!a",f)?$$.getSingle("!a",f):f);var g;if(typeof(paramUtil)!="undefined"){g=paramUtil.getParam(a.className())}else{g=utility.getParam(a.className())}if(a.hasClass("_installBlogAppPush")){this._push(g,false)}else{if(a.hasClass("_installBlogAppPushClose")){this._closeLayer(g)}else{if(a.hasClass("_installBlogAppPushRetry")){this._push(g,true)}}}if(a.hasClass("_stopIntallAppEvent")){b.stop()}},_push:function(f,b){var g="";var a=f[0];if(f.length>=2){g=f[1]}if(a=="true"){this._callPush(g,b)}else{this._login()}},_login:function(){var a=encodeURI(location.protocol+"//"+location.host+"/ReloadOpenerAndClose.naver");window.open("https://nid.naver.com/nidlogin.login?mode=form&svctype=64&url="+a,"login","width=400,height=260,location=no,resizable=no")},_callPush:function(b,a){new $Ajax("/InstallBlogAppPushAsync.naver",{method:"POST",onload:$Fn(function(f){this._showLayer(f,b,a)},this).bind()}).request()},_showLayer:function(a,f,b){if(a.text()=="success"){$Element("installBlogAppPush"+f).show();$Fn(this._hideInstallBlogAppPushNews,this).attach($$("#myBlogNews ._installBlogAppPushClose"),"keydown");if(b){alert("알림을 다시 전송했습니다.")}}else{if(a.text()=="login"){this._login()}else{alert("일시적인 문제로 접속 할 수 없습니다. 잠시 후 다시 시도해주세요.")}}},_closeLayer:function(a){var b="";if(a.length>=2){b=a[1];if(b===""){document.getElementById(a[2]).focus()}}$Element("installBlogAppPush"+b).hide()},_hideInstallBlogAppPushNews:function(a){if(a.key().keyCode!=13){return}$Element("installBlogAppPushNews").hide();$("installBlogAppPush").focus();a.stop()}});if(typeof(window.defineNHNJS)=="undefined"){window.defineNHNJS={}}window.defineNHNJS["PostBottomCommon-1258768635_js"]=true;
